{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sorbo\\\\US\\\\us-app\\\\frontend\\\\src\\\\pages\\\\Wishlist.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { FiPlus, FiExternalLink } from 'react-icons/fi';\nimport { authService } from '../services/authService';\nimport { ensurePushSubscribed, getPermissionStatus } from '../services/notificationService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Container = styled.div`\n  padding: 15px;\n  max-width: 800px;\n  margin: 0 auto;\n  \n  @media (max-width: 768px) {\n    padding: 10px;\n  }\n`;\n_c = Container;\nconst Header = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20px;\n  gap: 10px;\n  \n  @media (max-width: 768px) {\n    flex-direction: column;\n    align-items: stretch;\n    gap: 15px;\n  }\n`;\n_c2 = Header;\nconst Title = styled.h1`\n  margin: 0;\n  color: var(--text-color);\n  font-size: 24px;\n  \n  @media (max-width: 768px) {\n    font-size: 20px;\n    text-align: center;\n  }\n`;\n_c3 = Title;\nconst AddButton = styled.button`\n  background: var(--primary-color);\n  color: white;\n  border: none;\n  padding: 15px 25px;\n  border-radius: 25px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 8px;\n  cursor: pointer;\n  font-weight: 500;\n  font-size: 16px;\n  min-height: 50px;\n  transition: all 0.2s;\n  white-space: nowrap;\n\n  &:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 5px 15px rgba(0,0,0,0.2);\n  }\n  \n  @media (max-width: 768px) {\n    width: 100%;\n    padding: 18px 25px;\n    font-size: 18px;\n    border-radius: 12px;\n    min-height: 56px;\n  }\n`;\n_c4 = AddButton;\nconst NotifyButton = styled.button`\n  background: white;\n  color: var(--primary-color);\n  border: 2px solid var(--primary-color);\n  padding: 12px 16px;\n  border-radius: 12px;\n  cursor: pointer;\n  font-weight: 500;\n  font-size: 14px;\n  min-height: 44px;\n  transition: all 0.2s;\n  white-space: nowrap;\n\n  &:hover { opacity: 0.85; }\n\n  @media (max-width: 768px) {\n    width: 100%;\n  }\n`;\n_c5 = NotifyButton;\nconst WishlistCard = styled.div`\n  background: white;\n  border-radius: 18px;\n  box-shadow: var(--shadow);\n  margin-bottom: 18px;\n  overflow: hidden;\n  border: 1px solid var(--border-color);\n  transition: box-shadow .25s, transform .25s;\n  &.expanded {\n    box-shadow: 0 10px 28px rgba(0,0,0,0.12);\n    transform: translateY(-2px);\n  }\n`;\n_c6 = WishlistCard;\nconst WishlistImage = styled.div`\n  height: 140px;\n  background: ${({\n  image\n}) => {\n  if (image) {\n    const p = image.startsWith('http') ? image : image.startsWith('/') ? image : `/${image}`;\n    return `url(${p})`;\n  }\n  return 'linear-gradient(135deg,#ddd,#bbb)';\n}};\n  background-size: cover;\n  background-position: center;\n  position: relative;\n  cursor: pointer;\n`;\n_c7 = WishlistImage;\nconst WishlistContent = styled.div`\n  padding: 18px 20px 20px;\n`;\n_c8 = WishlistContent;\nconst WishlistTitle = styled.h3`\n  margin: 0 0 8px 0;\n  color: var(--text-color);\n  font-size: 18px;\n`;\n_c9 = WishlistTitle;\nconst ForUser = styled.p`\n  color: var(--primary-color);\n  font-size: 14px;\n  margin: 0 0 12px 0;\n  font-weight: 500;\n`;\n_c0 = ForUser;\nconst WishlistDescription = styled.p`\n  color: var(--text-color);\n  font-size: 14px;\n  line-height: 1.4;\n  margin: 0 0 14px;\n`;\n_c1 = WishlistDescription;\nconst StatusBadge = styled.div`\n  position: absolute;\n  top: 12px;\n  right: 12px;\n  padding: 6px 12px;\n  border-radius: 20px;\n  font-size: 12px;\n  font-weight: 500;\n  color: white;\n  background: ${props => {\n  switch (props.status) {\n    case 'idea':\n      return '#3498db';\n    case 'bought':\n      return '#e74c3c';\n    case 'gifted':\n      return '#27ae60';\n    default:\n      return '#95a5a6';\n  }\n}};\n`;\n_c10 = StatusBadge;\nconst ToggleDetails = styled.button`\n  position: absolute;\n  bottom: 10px;\n  left: 10px;\n  padding: 6px 10px;\n  font-size: 11px;\n  border: none;\n  background: rgba(0,0,0,0.55);\n  color: #fff;\n  border-radius: 14px;\n  cursor: pointer;\n  letter-spacing: .5px;\n  display: flex;\n  align-items: center;\n  gap: 4px;\n`;\n_c11 = ToggleDetails;\nconst GalleryBadge = styled.button`\n  position: absolute;\n  bottom: 10px;\n  right: 10px;\n  padding: 6px 10px;\n  font-size: 11px;\n  border: none;\n  background: rgba(0,0,0,0.55);\n  color: #fff;\n  border-radius: 14px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  gap: 4px;\n`;\n_c12 = GalleryBadge;\nconst WishlistActions = styled.div`\n  display: flex;\n  gap: 8px;\n  margin-bottom: 15px;\n  flex-wrap: wrap;\n`;\n_c13 = WishlistActions;\nconst ActionButton = styled.button`\n  padding: 8px 16px;\n  border: 2px solid var(--border-color);\n  background: white;\n  border-radius: 20px;\n  cursor: pointer;\n  font-size: 14px;\n  transition: all 0.2s;\n\n  &.active {\n    background: var(--primary-color);\n    color: white;\n    border-color: var(--primary-color);\n  }\n\n  &:hover {\n    border-color: var(--primary-color);\n  }\n`;\n_c14 = ActionButton;\nconst LinkButton = styled.a`\n  padding: 8px 16px;\n  border: 2px solid var(--primary-color);\n  background: var(--primary-color);\n  color: white;\n  border-radius: 20px;\n  text-decoration: none;\n  font-size: 14px;\n  display: flex;\n  align-items: center;\n  gap: 5px;\n  transition: all 0.2s;\n\n  &:hover {\n    opacity: 0.8;\n  }\n`;\n_c15 = LinkButton;\nconst EditDeleteRow = styled.div`\n  display: flex;\n  gap: 10px;\n  margin-top: 15px;\n`;\n_c16 = EditDeleteRow;\nconst EditButton = styled.button`\n  flex: 1;\n  padding: 10px;\n  border: 1px solid var(--border-color);\n  background: white;\n  color: var(--text-color);\n  border-radius: 8px;\n  cursor: pointer;\n  font-size: 14px;\n\n  &:hover {\n    background: #f8f9fa;\n  }\n`;\n_c17 = EditButton;\nconst DeleteButton = styled.button`\n  flex: 1;\n  padding: 10px;\n  border: 1px solid #e74c3c;\n  background: white;\n  color: #e74c3c;\n  border-radius: 8px;\n  cursor: pointer;\n  font-size: 14px;\n\n  &:hover {\n    background: #e74c3c;\n    color: white;\n  }\n`;\n_c18 = DeleteButton;\nconst Modal = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0,0,0,0.8);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1000;\n  padding: 20px;\n  \n  @media (max-width: 768px) {\n    padding: 10px;\n    align-items: flex-start;\n    padding-top: 20px;\n  }\n`;\n_c19 = Modal;\nconst ModalContent = styled.div`\n  background: white;\n  border-radius: 16px;\n  padding: 30px;\n  width: 100%;\n  max-width: 500px;\n  max-height: 90vh;\n  overflow-y: auto;\n  \n  @media (max-width: 768px) {\n    padding: 20px;\n    border-radius: 12px;\n    max-height: 85vh;\n  }\n`;\n_c20 = ModalContent;\nconst ModalTitle = styled.h2`\n  margin: 0 0 20px 0;\n  color: var(--text-color);\n`;\n_c21 = ModalTitle;\nconst FormGroup = styled.div`\n  margin-bottom: 20px;\n`;\n_c22 = FormGroup;\nconst Label = styled.label`\n  display: block;\n  margin-bottom: 8px;\n  color: var(--text-color);\n  font-weight: 500;\n`;\n_c23 = Label;\nconst Input = styled.input`\n  width: 100%;\n  padding: 12px;\n  border: 2px solid var(--border-color);\n  border-radius: 8px;\n  font-size: 16px;\n  box-sizing: border-box;\n  \n  &:focus {\n    outline: none;\n    border-color: var(--primary-color);\n  }\n`;\n_c24 = Input;\nconst TextArea = styled.textarea`\n  width: 100%;\n  padding: 12px;\n  border: 2px solid var(--border-color);\n  border-radius: 8px;\n  font-size: 16px;\n  min-height: 100px;\n  resize: vertical;\n  box-sizing: border-box;\n  \n  &:focus {\n    outline: none;\n    border-color: var(--primary-color);\n  }\n`;\n_c25 = TextArea;\nconst Select = styled.select`\n  width: 100%;\n  padding: 12px;\n  border: 2px solid var(--border-color);\n  border-radius: 8px;\n  font-size: 16px;\n  box-sizing: border-box;\n  \n  &:focus {\n    outline: none;\n    border-color: var(--primary-color);\n  }\n`;\n_c26 = Select;\nconst ModalActions = styled.div`\n  display: flex;\n  gap: 10px;\n  justify-content: flex-end;\n  margin-top: 30px;\n`;\n_c27 = ModalActions;\nconst ModalButton = styled.button`\n  padding: 12px 24px;\n  border: none;\n  border-radius: 8px;\n  cursor: pointer;\n  font-size: 16px;\n  font-weight: 500;\n  min-height: 48px;\n  \n  &.primary {\n    background: var(--primary-color);\n    color: white;\n    \n    &:disabled {\n      background: #ccc;\n      cursor: not-allowed;\n    }\n  }\n  \n  &.secondary {\n    background: var(--border-color);\n    color: var(--text-color);\n  }\n  \n  @media (max-width: 768px) {\n    flex: 1;\n    padding: 15px;\n    font-size: 16px;\n  }\n`;\n_c28 = ModalButton;\nconst ImagePreview = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  gap: 10px;\n  margin-top: 10px;\n`;\n_c29 = ImagePreview;\nconst PreviewImage = styled.div`\n  width: 80px;\n  height: 80px;\n  background-image: url(${props => props.src});\n  background-size: cover;\n  background-position: center;\n  border-radius: 8px;\n  position: relative;\n`;\n_c30 = PreviewImage;\nconst RemoveImageButton = styled.button`\n  position: absolute;\n  top: -5px;\n  right: -5px;\n  width: 20px;\n  height: 20px;\n  border-radius: 50%;\n  border: none;\n  background: #e74c3c;\n  color: white;\n  cursor: pointer;\n  font-size: 12px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n_c31 = RemoveImageButton;\nconst ImageGallery = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0,0,0,0.9);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 2000;\n`;\n_c32 = ImageGallery;\nconst GalleryImage = styled.img`\n  max-width: 90%;\n  max-height: 90%;\n  object-fit: contain;\n`;\n_c33 = GalleryImage;\nconst GalleryControls = styled.div`\n  position: absolute;\n  bottom: 20px;\n  left: 50%;\n  transform: translateX(-50%);\n  display: flex;\n  gap: 10px;\n`;\n_c34 = GalleryControls;\nconst GalleryButton = styled.button`\n  padding: 10px 20px;\n  background: rgba(255,255,255,0.2);\n  color: white;\n  border: none;\n  border-radius: 5px;\n  cursor: pointer;\n`;\n_c35 = GalleryButton;\nconst CloseButton = styled.button`\n  position: absolute;\n  top: 20px;\n  right: 20px;\n  background: rgba(255,255,255,0.2);\n  color: white;\n  border: none;\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n  cursor: pointer;\n  font-size: 20px;\n`;\n_c36 = CloseButton;\nfunction Wishlist() {\n  _s();\n  const [wishlist, setWishlist] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [notifPermission, setNotifPermission] = useState('default');\n  const [showModal, setShowModal] = useState(false);\n  const [editingItem, setEditingItem] = useState(null);\n  const [viewingImages, setViewingImages] = useState(null);\n  const [currentImageIndex, setCurrentImageIndex] = useState(0);\n  const [expanded, setExpanded] = useState({}); // id -> bool\n  const [couples, setCouples] = useState([]);\n  const [formData, setFormData] = useState({\n    title: '',\n    description: '',\n    link_url: '',\n    recipient_id: '',\n    status: 'idea'\n  });\n  const [selectedImages, setSelectedImages] = useState([]);\n  const [imageFiles, setImageFiles] = useState([]);\n  useEffect(() => {\n    loadWishlist();\n    loadCouples();\n    (async () => {\n      setNotifPermission(await getPermissionStatus());\n    })();\n  }, []);\n  const loadWishlist = async () => {\n    try {\n      const response = await authService.api.get('/api/wishlist');\n      setWishlist(response.data);\n    } catch (error) {\n      console.error('Erreur lors du chargement de la wishlist:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const loadCouples = async () => {\n    try {\n      console.log('Loading couples...');\n      const response = await authService.api.get('/api/couples');\n      console.log('Couples loaded:', response.data);\n      setCouples(response.data);\n    } catch (error) {\n      console.error('Erreur lors du chargement des couples:', error);\n      // Pas de couples = pas grave, on peut quand même utiliser \"Moi\"\n      setCouples([]);\n    }\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!formData.title.trim()) {\n      alert('Le titre est obligatoire');\n      return;\n    }\n    try {\n      let uploadedImages = [];\n      if (imageFiles.length > 0) {\n        console.log('Uploading images:', imageFiles.length);\n        const uploadPromises = imageFiles.map(file => authService.photoService.uploadMultipart([file]));\n        const uploadResults = await Promise.all(uploadPromises);\n        uploadedImages = uploadResults.flat();\n        console.log('Images uploaded:', uploadedImages);\n      }\n      const wishlistData = {\n        title: formData.title,\n        description: formData.description,\n        link_url: formData.link_url,\n        recipient_id: formData.recipient_id,\n        status: formData.status,\n        images: uploadedImages.map(img => img._id)\n      };\n      console.log('Sending wishlist data:', wishlistData);\n      if (editingItem) {\n        await authService.api.put(`/api/wishlist/${editingItem._id}`, wishlistData);\n      } else {\n        await authService.api.post('/api/wishlist', wishlistData);\n      }\n      console.log('Wishlist item saved successfully');\n      await loadWishlist();\n      handleCloseModal();\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error('Erreur lors de la sauvegarde:', error);\n      alert('Erreur lors de la sauvegarde: ' + (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || error.message));\n    }\n  };\n  const handleCloseModal = () => {\n    setShowModal(false);\n    setEditingItem(null);\n    setFormData({\n      title: '',\n      description: '',\n      link_url: '',\n      recipient_id: '',\n      status: 'idea'\n    });\n    setSelectedImages([]);\n    setImageFiles([]);\n  };\n  const handleEdit = item => {\n    setEditingItem(item);\n    setFormData({\n      title: item.title,\n      description: item.description || '',\n      link_url: item.link_url || '',\n      recipient_id: item.recipient_id || '',\n      status: item.status\n    });\n    setShowModal(true);\n  };\n  const handleDelete = async id => {\n    if (window.confirm('Êtes-vous sûr de vouloir supprimer cet élément ?')) {\n      try {\n        await authService.api.delete(`/api/wishlist/${id}`);\n        await loadWishlist();\n      } catch (error) {\n        console.error('Erreur lors de la suppression:', error);\n      }\n    }\n  };\n  const updateStatus = async (id, status) => {\n    try {\n      await authService.api.put(`/api/wishlist/${id}`, {\n        status\n      });\n      await loadWishlist();\n    } catch (error) {\n      console.error('Erreur lors de la mise à jour du statut:', error);\n    }\n  };\n  const handleImageSelect = e => {\n    const files = Array.from(e.target.files);\n    setImageFiles(prev => [...prev, ...files]);\n    files.forEach(file => {\n      const reader = new FileReader();\n      reader.onload = e => {\n        setSelectedImages(prev => [...prev, e.target.result]);\n      };\n      reader.readAsDataURL(file);\n    });\n  };\n  const removeImage = index => {\n    setSelectedImages(prev => prev.filter((_, i) => i !== index));\n    setImageFiles(prev => prev.filter((_, i) => i !== index));\n  };\n  const getStatusLabel = status => {\n    switch (status) {\n      case 'idea':\n        return 'Idée';\n      case 'bought':\n        return 'Acheté';\n      case 'gifted':\n        return 'Offert';\n      default:\n        return 'Idée';\n    }\n  };\n  const getUserName = item => {\n    if (!item.recipient_id) return 'Moi';\n    const couple = couples.find(c => c._id === item.recipient_id);\n    return couple ? couple.name : 'Inconnu';\n  };\n  const getImageUrl = image => {\n    if (typeof image === 'string') {\n      if (image.startsWith('http')) return image;\n      if (image.startsWith('/uploads/')) return image;\n      return `/uploads/${image}`;\n    }\n    if (!image) return null;\n    if (image.url) return image.url;\n    if (image.filename) return `/uploads/${image.filename}`;\n    return null;\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"skeleton\",\n        style: {\n          height: 140,\n          borderRadius: 16,\n          marginBottom: 12\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 690,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"skeleton\",\n        style: {\n          height: 140,\n          borderRadius: 16,\n          marginBottom: 12\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 691,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"skeleton\",\n        style: {\n          height: 140,\n          borderRadius: 16\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 692,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 689,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      children: [/*#__PURE__*/_jsxDEV(Title, {\n        children: \"Wishlist\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 700,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          gap: 10\n        },\n        children: [notifPermission !== 'granted' && /*#__PURE__*/_jsxDEV(NotifyButton, {\n          onClick: async () => {\n            try {\n              await ensurePushSubscribed();\n              setNotifPermission('granted');\n            } catch (e) {\n              alert(\"Impossible d'activer les notifications\");\n            }\n          },\n          children: \"Activer les notifications\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 703,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(AddButton, {\n          onClick: () => setShowModal(true),\n          children: [/*#__PURE__*/_jsxDEV(FiPlus, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 715,\n            columnNumber: 13\n          }, this), \" Ajouter\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 714,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 701,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 699,\n      columnNumber: 7\n    }, this), !loading && wishlist.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        background: 'white',\n        border: '1px solid var(--border-color)',\n        borderRadius: 16,\n        padding: 24,\n        textAlign: 'center',\n        color: 'var(--text-color)',\n        boxShadow: 'var(--shadow)',\n        marginBottom: 18\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontSize: 18,\n          fontWeight: 600,\n          marginBottom: 8\n        },\n        children: \"Votre wishlist est vide\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 725,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          opacity: 0.8,\n          marginBottom: 16\n        },\n        children: \"Ajoutez vos id\\xE9es cadeaux, liens et photos pour vous ou votre partenaire.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 726,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(AddButton, {\n        onClick: () => setShowModal(true),\n        children: [/*#__PURE__*/_jsxDEV(FiPlus, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 728,\n          columnNumber: 13\n        }, this), \" Ajouter un premier \\xE9l\\xE9ment\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 727,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 721,\n      columnNumber: 9\n    }, this), wishlist.map(item => {\n      const isExpanded = !!expanded[item._id];\n      const cover = item.image_url || item.images && item.images[0] && getImageUrl(item.images[0]);\n      return /*#__PURE__*/_jsxDEV(WishlistCard, {\n        className: isExpanded ? 'expanded' : '',\n        children: [/*#__PURE__*/_jsxDEV(WishlistImage, {\n          image: cover,\n          onClick: () => setExpanded(prev => ({\n            ...prev,\n            [item._id]: !prev[item._id]\n          })),\n          children: [/*#__PURE__*/_jsxDEV(StatusBadge, {\n            status: item.status,\n            children: getStatusLabel(item.status)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 742,\n            columnNumber: 15\n          }, this), item.images && item.images.length > 1 && /*#__PURE__*/_jsxDEV(GalleryBadge, {\n            onClick: e => {\n              e.stopPropagation();\n              setCurrentImageIndex(0);\n              setViewingImages(item);\n            },\n            children: [\"\\uD83D\\uDCF7 \", item.images.length]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 744,\n            columnNumber: 17\n          }, this), !cover && /*#__PURE__*/_jsxDEV(ToggleDetails, {\n            onClick: e => {\n              e.stopPropagation();\n              setExpanded(p => ({\n                ...p,\n                [item._id]: !p[item._id]\n              }));\n            },\n            children: \"D\\xE9tails\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 752,\n            columnNumber: 26\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 738,\n          columnNumber: 13\n        }, this), isExpanded && /*#__PURE__*/_jsxDEV(WishlistContent, {\n          children: [/*#__PURE__*/_jsxDEV(WishlistTitle, {\n            children: item.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 756,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(ForUser, {\n            children: [\"Pour \", getUserName(item)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 757,\n            columnNumber: 17\n          }, this), item.description && /*#__PURE__*/_jsxDEV(WishlistDescription, {\n            children: item.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 759,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(WishlistActions, {\n            children: [/*#__PURE__*/_jsxDEV(ActionButton, {\n              className: item.status === 'idea' ? 'active' : '',\n              onClick: () => updateStatus(item._id, 'idea'),\n              children: \"Id\\xE9e\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 762,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(ActionButton, {\n              className: item.status === 'bought' ? 'active' : '',\n              onClick: () => updateStatus(item._id, 'bought'),\n              children: \"Achet\\xE9\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 766,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(ActionButton, {\n              className: item.status === 'gifted' ? 'active' : '',\n              onClick: () => updateStatus(item._id, 'gifted'),\n              children: \"Offert\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 770,\n              columnNumber: 19\n            }, this), item.link_url && /*#__PURE__*/_jsxDEV(LinkButton, {\n              href: item.link_url,\n              target: \"_blank\",\n              rel: \"noopener noreferrer\",\n              children: [/*#__PURE__*/_jsxDEV(FiExternalLink, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 776,\n                columnNumber: 23\n              }, this), \" Voir\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 775,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 761,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(EditDeleteRow, {\n            children: [/*#__PURE__*/_jsxDEV(EditButton, {\n              onClick: () => handleEdit(item),\n              children: \"Modifier\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 781,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(DeleteButton, {\n              onClick: () => handleDelete(item._id),\n              children: \"Supprimer\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 782,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 780,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 755,\n          columnNumber: 15\n        }, this)]\n      }, item._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 737,\n        columnNumber: 11\n      }, this);\n    }), showModal && /*#__PURE__*/_jsxDEV(Modal, {\n      onClick: e => e.target === e.currentTarget && handleCloseModal(),\n      children: /*#__PURE__*/_jsxDEV(ModalContent, {\n        children: [/*#__PURE__*/_jsxDEV(ModalTitle, {\n          children: [editingItem ? 'Modifier' : 'Ajouter', \" un \\xE9l\\xE9ment\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 793,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(FormGroup, {\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              children: \"Titre *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 797,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              type: \"text\",\n              value: formData.title,\n              onChange: e => setFormData({\n                ...formData,\n                title: e.target.value\n              }),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 798,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 796,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              children: \"Description\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 807,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TextArea, {\n              value: formData.description,\n              onChange: e => setFormData({\n                ...formData,\n                description: e.target.value\n              }),\n              placeholder: \"Description de l'\\xE9l\\xE9ment...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 808,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 806,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              children: \"Lien URL\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 816,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              type: \"url\",\n              value: formData.link_url,\n              onChange: e => setFormData({\n                ...formData,\n                link_url: e.target.value\n              }),\n              placeholder: \"https://...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 817,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 815,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              children: \"Pour qui ?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 826,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              value: formData.recipient_id,\n              onChange: e => setFormData({\n                ...formData,\n                recipient_id: e.target.value\n              }),\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"Moi\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 831,\n                columnNumber: 19\n              }, this), couples.map(couple => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: couple._id,\n                children: couple.name\n              }, couple._id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 833,\n                columnNumber: 21\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 827,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 825,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              children: \"Statut\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 839,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              value: formData.status,\n              onChange: e => setFormData({\n                ...formData,\n                status: e.target.value\n              }),\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"idea\",\n                children: \"Id\\xE9e\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 844,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"bought\",\n                children: \"Achet\\xE9\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 845,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"gifted\",\n                children: \"Offert\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 846,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 840,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 838,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              children: \"Images\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 851,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              type: \"file\",\n              multiple: true,\n              accept: \"image/*\",\n              onChange: handleImageSelect\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 852,\n              columnNumber: 17\n            }, this), selectedImages.length > 0 && /*#__PURE__*/_jsxDEV(ImagePreview, {\n              children: selectedImages.map((src, index) => /*#__PURE__*/_jsxDEV(PreviewImage, {\n                src: src,\n                children: /*#__PURE__*/_jsxDEV(RemoveImageButton, {\n                  onClick: () => removeImage(index),\n                  children: \"\\xD7\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 862,\n                  columnNumber: 25\n                }, this)\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 861,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 859,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 850,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(ModalActions, {\n            children: [/*#__PURE__*/_jsxDEV(ModalButton, {\n              type: \"button\",\n              className: \"secondary\",\n              onClick: handleCloseModal,\n              children: \"Annuler\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 872,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(ModalButton, {\n              type: \"submit\",\n              className: \"primary\",\n              disabled: !formData.title.trim(),\n              children: editingItem ? 'Modifier' : 'Ajouter'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 875,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 871,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 795,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 792,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 791,\n      columnNumber: 9\n    }, this), viewingImages && /*#__PURE__*/_jsxDEV(ImageGallery, {\n      onClick: () => setViewingImages(null),\n      children: [/*#__PURE__*/_jsxDEV(CloseButton, {\n        onClick: () => setViewingImages(null),\n        children: \"\\xD7\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 886,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(GalleryImage, {\n        src: getImageUrl(viewingImages.images[currentImageIndex]),\n        alt: \"Wishlist item\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 887,\n        columnNumber: 11\n      }, this), viewingImages.images.length > 1 && /*#__PURE__*/_jsxDEV(GalleryControls, {\n        children: [/*#__PURE__*/_jsxDEV(GalleryButton, {\n          onClick: e => {\n            e.stopPropagation();\n            setCurrentImageIndex(prev => prev > 0 ? prev - 1 : viewingImages.images.length - 1);\n          },\n          children: \"Pr\\xE9c\\xE9dent\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 893,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(GalleryButton, {\n          onClick: e => {\n            e.stopPropagation();\n            setCurrentImageIndex(prev => prev < viewingImages.images.length - 1 ? prev + 1 : 0);\n          },\n          children: \"Suivant\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 903,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 892,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 885,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 698,\n    columnNumber: 5\n  }, this);\n}\n_s(Wishlist, \"/apTNyD1de8t1NyypP8JPYmv/1U=\");\n_c37 = Wishlist;\nexport default Wishlist;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1, _c10, _c11, _c12, _c13, _c14, _c15, _c16, _c17, _c18, _c19, _c20, _c21, _c22, _c23, _c24, _c25, _c26, _c27, _c28, _c29, _c30, _c31, _c32, _c33, _c34, _c35, _c36, _c37;\n$RefreshReg$(_c, \"Container\");\n$RefreshReg$(_c2, \"Header\");\n$RefreshReg$(_c3, \"Title\");\n$RefreshReg$(_c4, \"AddButton\");\n$RefreshReg$(_c5, \"NotifyButton\");\n$RefreshReg$(_c6, \"WishlistCard\");\n$RefreshReg$(_c7, \"WishlistImage\");\n$RefreshReg$(_c8, \"WishlistContent\");\n$RefreshReg$(_c9, \"WishlistTitle\");\n$RefreshReg$(_c0, \"ForUser\");\n$RefreshReg$(_c1, \"WishlistDescription\");\n$RefreshReg$(_c10, \"StatusBadge\");\n$RefreshReg$(_c11, \"ToggleDetails\");\n$RefreshReg$(_c12, \"GalleryBadge\");\n$RefreshReg$(_c13, \"WishlistActions\");\n$RefreshReg$(_c14, \"ActionButton\");\n$RefreshReg$(_c15, \"LinkButton\");\n$RefreshReg$(_c16, \"EditDeleteRow\");\n$RefreshReg$(_c17, \"EditButton\");\n$RefreshReg$(_c18, \"DeleteButton\");\n$RefreshReg$(_c19, \"Modal\");\n$RefreshReg$(_c20, \"ModalContent\");\n$RefreshReg$(_c21, \"ModalTitle\");\n$RefreshReg$(_c22, \"FormGroup\");\n$RefreshReg$(_c23, \"Label\");\n$RefreshReg$(_c24, \"Input\");\n$RefreshReg$(_c25, \"TextArea\");\n$RefreshReg$(_c26, \"Select\");\n$RefreshReg$(_c27, \"ModalActions\");\n$RefreshReg$(_c28, \"ModalButton\");\n$RefreshReg$(_c29, \"ImagePreview\");\n$RefreshReg$(_c30, \"PreviewImage\");\n$RefreshReg$(_c31, \"RemoveImageButton\");\n$RefreshReg$(_c32, \"ImageGallery\");\n$RefreshReg$(_c33, \"GalleryImage\");\n$RefreshReg$(_c34, \"GalleryControls\");\n$RefreshReg$(_c35, \"GalleryButton\");\n$RefreshReg$(_c36, \"CloseButton\");\n$RefreshReg$(_c37, \"Wishlist\");","map":{"version":3,"names":["React","useState","useEffect","styled","FiPlus","FiExternalLink","authService","ensurePushSubscribed","getPermissionStatus","jsxDEV","_jsxDEV","Container","div","_c","Header","_c2","Title","h1","_c3","AddButton","button","_c4","NotifyButton","_c5","WishlistCard","_c6","WishlistImage","image","p","startsWith","_c7","WishlistContent","_c8","WishlistTitle","h3","_c9","ForUser","_c0","WishlistDescription","_c1","StatusBadge","props","status","_c10","ToggleDetails","_c11","GalleryBadge","_c12","WishlistActions","_c13","ActionButton","_c14","LinkButton","a","_c15","EditDeleteRow","_c16","EditButton","_c17","DeleteButton","_c18","Modal","_c19","ModalContent","_c20","ModalTitle","h2","_c21","FormGroup","_c22","Label","label","_c23","Input","input","_c24","TextArea","textarea","_c25","Select","select","_c26","ModalActions","_c27","ModalButton","_c28","ImagePreview","_c29","PreviewImage","src","_c30","RemoveImageButton","_c31","ImageGallery","_c32","GalleryImage","img","_c33","GalleryControls","_c34","GalleryButton","_c35","CloseButton","_c36","Wishlist","_s","wishlist","setWishlist","loading","setLoading","notifPermission","setNotifPermission","showModal","setShowModal","editingItem","setEditingItem","viewingImages","setViewingImages","currentImageIndex","setCurrentImageIndex","expanded","setExpanded","couples","setCouples","formData","setFormData","title","description","link_url","recipient_id","selectedImages","setSelectedImages","imageFiles","setImageFiles","loadWishlist","loadCouples","response","api","get","data","error","console","log","handleSubmit","e","preventDefault","trim","alert","uploadedImages","length","uploadPromises","map","file","photoService","uploadMultipart","uploadResults","Promise","all","flat","wishlistData","images","_id","put","post","handleCloseModal","_error$response","_error$response$data","message","handleEdit","item","handleDelete","id","window","confirm","delete","updateStatus","handleImageSelect","files","Array","from","target","prev","forEach","reader","FileReader","onload","result","readAsDataURL","removeImage","index","filter","_","i","getStatusLabel","getUserName","couple","find","c","name","getImageUrl","url","filename","children","className","style","height","borderRadius","marginBottom","fileName","_jsxFileName","lineNumber","columnNumber","display","gap","onClick","background","border","padding","textAlign","color","boxShadow","fontSize","fontWeight","opacity","isExpanded","cover","image_url","stopPropagation","href","rel","currentTarget","onSubmit","type","value","onChange","required","placeholder","multiple","accept","disabled","alt","_c37","$RefreshReg$"],"sources":["C:/Users/sorbo/US/us-app/frontend/src/pages/Wishlist.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport styled from 'styled-components';\r\nimport { FiPlus, FiExternalLink } from 'react-icons/fi';\r\nimport { authService } from '../services/authService';\r\nimport { ensurePushSubscribed, getPermissionStatus } from '../services/notificationService';\r\n\r\nconst Container = styled.div`\r\n  padding: 15px;\r\n  max-width: 800px;\r\n  margin: 0 auto;\r\n  \r\n  @media (max-width: 768px) {\r\n    padding: 10px;\r\n  }\r\n`;\r\n\r\nconst Header = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 20px;\r\n  gap: 10px;\r\n  \r\n  @media (max-width: 768px) {\r\n    flex-direction: column;\r\n    align-items: stretch;\r\n    gap: 15px;\r\n  }\r\n`;\r\n\r\nconst Title = styled.h1`\r\n  margin: 0;\r\n  color: var(--text-color);\r\n  font-size: 24px;\r\n  \r\n  @media (max-width: 768px) {\r\n    font-size: 20px;\r\n    text-align: center;\r\n  }\r\n`;\r\n\r\nconst AddButton = styled.button`\r\n  background: var(--primary-color);\r\n  color: white;\r\n  border: none;\r\n  padding: 15px 25px;\r\n  border-radius: 25px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 8px;\r\n  cursor: pointer;\r\n  font-weight: 500;\r\n  font-size: 16px;\r\n  min-height: 50px;\r\n  transition: all 0.2s;\r\n  white-space: nowrap;\r\n\r\n  &:hover {\r\n    transform: translateY(-2px);\r\n    box-shadow: 0 5px 15px rgba(0,0,0,0.2);\r\n  }\r\n  \r\n  @media (max-width: 768px) {\r\n    width: 100%;\r\n    padding: 18px 25px;\r\n    font-size: 18px;\r\n    border-radius: 12px;\r\n    min-height: 56px;\r\n  }\r\n`;\r\n\r\nconst NotifyButton = styled.button`\r\n  background: white;\r\n  color: var(--primary-color);\r\n  border: 2px solid var(--primary-color);\r\n  padding: 12px 16px;\r\n  border-radius: 12px;\r\n  cursor: pointer;\r\n  font-weight: 500;\r\n  font-size: 14px;\r\n  min-height: 44px;\r\n  transition: all 0.2s;\r\n  white-space: nowrap;\r\n\r\n  &:hover { opacity: 0.85; }\r\n\r\n  @media (max-width: 768px) {\r\n    width: 100%;\r\n  }\r\n`;\r\n\r\nconst WishlistCard = styled.div`\r\n  background: white;\r\n  border-radius: 18px;\r\n  box-shadow: var(--shadow);\r\n  margin-bottom: 18px;\r\n  overflow: hidden;\r\n  border: 1px solid var(--border-color);\r\n  transition: box-shadow .25s, transform .25s;\r\n  &.expanded {\r\n    box-shadow: 0 10px 28px rgba(0,0,0,0.12);\r\n    transform: translateY(-2px);\r\n  }\r\n`;\r\n\r\nconst WishlistImage = styled.div`\r\n  height: 140px;\r\n  background: ${({ image }) => {\r\n    if (image) {\r\n      const p = image.startsWith('http') ? image : (image.startsWith('/') ? image : `/${image}`);\r\n      return `url(${p})`;\r\n    }\r\n    return 'linear-gradient(135deg,#ddd,#bbb)';\r\n  }};\r\n  background-size: cover;\r\n  background-position: center;\r\n  position: relative;\r\n  cursor: pointer;\r\n`;\r\n\r\nconst WishlistContent = styled.div`\r\n  padding: 18px 20px 20px;\r\n`;\r\n\r\nconst WishlistTitle = styled.h3`\r\n  margin: 0 0 8px 0;\r\n  color: var(--text-color);\r\n  font-size: 18px;\r\n`;\r\n\r\nconst ForUser = styled.p`\r\n  color: var(--primary-color);\r\n  font-size: 14px;\r\n  margin: 0 0 12px 0;\r\n  font-weight: 500;\r\n`;\r\n\r\nconst WishlistDescription = styled.p`\r\n  color: var(--text-color);\r\n  font-size: 14px;\r\n  line-height: 1.4;\r\n  margin: 0 0 14px;\r\n`;\r\n\r\nconst StatusBadge = styled.div`\r\n  position: absolute;\r\n  top: 12px;\r\n  right: 12px;\r\n  padding: 6px 12px;\r\n  border-radius: 20px;\r\n  font-size: 12px;\r\n  font-weight: 500;\r\n  color: white;\r\n  background: ${props => {\r\n    switch(props.status) {\r\n      case 'idea': return '#3498db';\r\n      case 'bought': return '#e74c3c';\r\n      case 'gifted': return '#27ae60';\r\n      default: return '#95a5a6';\r\n    }\r\n  }};\r\n`;\r\n\r\nconst ToggleDetails = styled.button`\r\n  position: absolute;\r\n  bottom: 10px;\r\n  left: 10px;\r\n  padding: 6px 10px;\r\n  font-size: 11px;\r\n  border: none;\r\n  background: rgba(0,0,0,0.55);\r\n  color: #fff;\r\n  border-radius: 14px;\r\n  cursor: pointer;\r\n  letter-spacing: .5px;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 4px;\r\n`;\r\n\r\nconst GalleryBadge = styled.button`\r\n  position: absolute;\r\n  bottom: 10px;\r\n  right: 10px;\r\n  padding: 6px 10px;\r\n  font-size: 11px;\r\n  border: none;\r\n  background: rgba(0,0,0,0.55);\r\n  color: #fff;\r\n  border-radius: 14px;\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 4px;\r\n`;\r\n\r\nconst WishlistActions = styled.div`\r\n  display: flex;\r\n  gap: 8px;\r\n  margin-bottom: 15px;\r\n  flex-wrap: wrap;\r\n`;\r\n\r\nconst ActionButton = styled.button`\r\n  padding: 8px 16px;\r\n  border: 2px solid var(--border-color);\r\n  background: white;\r\n  border-radius: 20px;\r\n  cursor: pointer;\r\n  font-size: 14px;\r\n  transition: all 0.2s;\r\n\r\n  &.active {\r\n    background: var(--primary-color);\r\n    color: white;\r\n    border-color: var(--primary-color);\r\n  }\r\n\r\n  &:hover {\r\n    border-color: var(--primary-color);\r\n  }\r\n`;\r\n\r\nconst LinkButton = styled.a`\r\n  padding: 8px 16px;\r\n  border: 2px solid var(--primary-color);\r\n  background: var(--primary-color);\r\n  color: white;\r\n  border-radius: 20px;\r\n  text-decoration: none;\r\n  font-size: 14px;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 5px;\r\n  transition: all 0.2s;\r\n\r\n  &:hover {\r\n    opacity: 0.8;\r\n  }\r\n`;\r\n\r\nconst EditDeleteRow = styled.div`\r\n  display: flex;\r\n  gap: 10px;\r\n  margin-top: 15px;\r\n`;\r\n\r\nconst EditButton = styled.button`\r\n  flex: 1;\r\n  padding: 10px;\r\n  border: 1px solid var(--border-color);\r\n  background: white;\r\n  color: var(--text-color);\r\n  border-radius: 8px;\r\n  cursor: pointer;\r\n  font-size: 14px;\r\n\r\n  &:hover {\r\n    background: #f8f9fa;\r\n  }\r\n`;\r\n\r\nconst DeleteButton = styled.button`\r\n  flex: 1;\r\n  padding: 10px;\r\n  border: 1px solid #e74c3c;\r\n  background: white;\r\n  color: #e74c3c;\r\n  border-radius: 8px;\r\n  cursor: pointer;\r\n  font-size: 14px;\r\n\r\n  &:hover {\r\n    background: #e74c3c;\r\n    color: white;\r\n  }\r\n`;\r\n\r\nconst Modal = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: rgba(0,0,0,0.8);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: 1000;\r\n  padding: 20px;\r\n  \r\n  @media (max-width: 768px) {\r\n    padding: 10px;\r\n    align-items: flex-start;\r\n    padding-top: 20px;\r\n  }\r\n`;\r\n\r\nconst ModalContent = styled.div`\r\n  background: white;\r\n  border-radius: 16px;\r\n  padding: 30px;\r\n  width: 100%;\r\n  max-width: 500px;\r\n  max-height: 90vh;\r\n  overflow-y: auto;\r\n  \r\n  @media (max-width: 768px) {\r\n    padding: 20px;\r\n    border-radius: 12px;\r\n    max-height: 85vh;\r\n  }\r\n`;\r\n\r\nconst ModalTitle = styled.h2`\r\n  margin: 0 0 20px 0;\r\n  color: var(--text-color);\r\n`;\r\n\r\nconst FormGroup = styled.div`\r\n  margin-bottom: 20px;\r\n`;\r\n\r\nconst Label = styled.label`\r\n  display: block;\r\n  margin-bottom: 8px;\r\n  color: var(--text-color);\r\n  font-weight: 500;\r\n`;\r\n\r\nconst Input = styled.input`\r\n  width: 100%;\r\n  padding: 12px;\r\n  border: 2px solid var(--border-color);\r\n  border-radius: 8px;\r\n  font-size: 16px;\r\n  box-sizing: border-box;\r\n  \r\n  &:focus {\r\n    outline: none;\r\n    border-color: var(--primary-color);\r\n  }\r\n`;\r\n\r\nconst TextArea = styled.textarea`\r\n  width: 100%;\r\n  padding: 12px;\r\n  border: 2px solid var(--border-color);\r\n  border-radius: 8px;\r\n  font-size: 16px;\r\n  min-height: 100px;\r\n  resize: vertical;\r\n  box-sizing: border-box;\r\n  \r\n  &:focus {\r\n    outline: none;\r\n    border-color: var(--primary-color);\r\n  }\r\n`;\r\n\r\nconst Select = styled.select`\r\n  width: 100%;\r\n  padding: 12px;\r\n  border: 2px solid var(--border-color);\r\n  border-radius: 8px;\r\n  font-size: 16px;\r\n  box-sizing: border-box;\r\n  \r\n  &:focus {\r\n    outline: none;\r\n    border-color: var(--primary-color);\r\n  }\r\n`;\r\n\r\nconst ModalActions = styled.div`\r\n  display: flex;\r\n  gap: 10px;\r\n  justify-content: flex-end;\r\n  margin-top: 30px;\r\n`;\r\n\r\nconst ModalButton = styled.button`\r\n  padding: 12px 24px;\r\n  border: none;\r\n  border-radius: 8px;\r\n  cursor: pointer;\r\n  font-size: 16px;\r\n  font-weight: 500;\r\n  min-height: 48px;\r\n  \r\n  &.primary {\r\n    background: var(--primary-color);\r\n    color: white;\r\n    \r\n    &:disabled {\r\n      background: #ccc;\r\n      cursor: not-allowed;\r\n    }\r\n  }\r\n  \r\n  &.secondary {\r\n    background: var(--border-color);\r\n    color: var(--text-color);\r\n  }\r\n  \r\n  @media (max-width: 768px) {\r\n    flex: 1;\r\n    padding: 15px;\r\n    font-size: 16px;\r\n  }\r\n`;\r\n\r\nconst ImagePreview = styled.div`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 10px;\r\n  margin-top: 10px;\r\n`;\r\n\r\nconst PreviewImage = styled.div`\r\n  width: 80px;\r\n  height: 80px;\r\n  background-image: url(${props => props.src});\r\n  background-size: cover;\r\n  background-position: center;\r\n  border-radius: 8px;\r\n  position: relative;\r\n`;\r\n\r\nconst RemoveImageButton = styled.button`\r\n  position: absolute;\r\n  top: -5px;\r\n  right: -5px;\r\n  width: 20px;\r\n  height: 20px;\r\n  border-radius: 50%;\r\n  border: none;\r\n  background: #e74c3c;\r\n  color: white;\r\n  cursor: pointer;\r\n  font-size: 12px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\n\r\nconst ImageGallery = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: rgba(0,0,0,0.9);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: 2000;\r\n`;\r\n\r\nconst GalleryImage = styled.img`\r\n  max-width: 90%;\r\n  max-height: 90%;\r\n  object-fit: contain;\r\n`;\r\n\r\nconst GalleryControls = styled.div`\r\n  position: absolute;\r\n  bottom: 20px;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  display: flex;\r\n  gap: 10px;\r\n`;\r\n\r\nconst GalleryButton = styled.button`\r\n  padding: 10px 20px;\r\n  background: rgba(255,255,255,0.2);\r\n  color: white;\r\n  border: none;\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n`;\r\n\r\nconst CloseButton = styled.button`\r\n  position: absolute;\r\n  top: 20px;\r\n  right: 20px;\r\n  background: rgba(255,255,255,0.2);\r\n  color: white;\r\n  border: none;\r\n  width: 40px;\r\n  height: 40px;\r\n  border-radius: 50%;\r\n  cursor: pointer;\r\n  font-size: 20px;\r\n`;\r\n\r\nfunction Wishlist() {\r\n  const [wishlist, setWishlist] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [notifPermission, setNotifPermission] = useState('default');\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [editingItem, setEditingItem] = useState(null);\r\n  const [viewingImages, setViewingImages] = useState(null);\r\n  const [currentImageIndex, setCurrentImageIndex] = useState(0);\r\n  const [expanded, setExpanded] = useState({}); // id -> bool\r\n  const [couples, setCouples] = useState([]);\r\n  const [formData, setFormData] = useState({\r\n    title: '',\r\n    description: '',\r\n    link_url: '',\r\n    recipient_id: '',\r\n    status: 'idea'\r\n  });\r\n  const [selectedImages, setSelectedImages] = useState([]);\r\n  const [imageFiles, setImageFiles] = useState([]);\r\n\r\n  useEffect(() => {\r\n    loadWishlist();\r\n    loadCouples();\r\n    (async () => { setNotifPermission(await getPermissionStatus()); })();\r\n  }, []);\r\n\r\n  const loadWishlist = async () => {\r\n    try {\r\n      const response = await authService.api.get('/api/wishlist');\r\n      setWishlist(response.data);\r\n    } catch (error) {\r\n      console.error('Erreur lors du chargement de la wishlist:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const loadCouples = async () => {\r\n    try {\r\n      console.log('Loading couples...');\r\n      const response = await authService.api.get('/api/couples');\r\n      console.log('Couples loaded:', response.data);\r\n      setCouples(response.data);\r\n    } catch (error) {\r\n      console.error('Erreur lors du chargement des couples:', error);\r\n      // Pas de couples = pas grave, on peut quand même utiliser \"Moi\"\r\n      setCouples([]);\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (!formData.title.trim()) {\r\n      alert('Le titre est obligatoire');\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      let uploadedImages = [];\r\n      \r\n      if (imageFiles.length > 0) {\r\n        console.log('Uploading images:', imageFiles.length);\r\n        const uploadPromises = imageFiles.map(file => \r\n          authService.photoService.uploadMultipart([file])\r\n        );\r\n        const uploadResults = await Promise.all(uploadPromises);\r\n        uploadedImages = uploadResults.flat();\r\n        console.log('Images uploaded:', uploadedImages);\r\n      }\r\n\r\n      const wishlistData = {\r\n        title: formData.title,\r\n        description: formData.description,\r\n        link_url: formData.link_url,\r\n        recipient_id: formData.recipient_id,\r\n        status: formData.status,\r\n        images: uploadedImages.map(img => img._id)\r\n      };\r\n      \r\n      console.log('Sending wishlist data:', wishlistData);\r\n\r\n      if (editingItem) {\r\n        await authService.api.put(`/api/wishlist/${editingItem._id}`, wishlistData);\r\n      } else {\r\n        await authService.api.post('/api/wishlist', wishlistData);\r\n      }\r\n      \r\n      console.log('Wishlist item saved successfully');\r\n      await loadWishlist();\r\n      handleCloseModal();\r\n    } catch (error) {\r\n      console.error('Erreur lors de la sauvegarde:', error);\r\n      alert('Erreur lors de la sauvegarde: ' + (error.response?.data?.message || error.message));\r\n    }\r\n  };\r\n\r\n  const handleCloseModal = () => {\r\n    setShowModal(false);\r\n    setEditingItem(null);\r\n    setFormData({\r\n      title: '',\r\n      description: '',\r\n      link_url: '',\r\n      recipient_id: '',\r\n      status: 'idea'\r\n    });\r\n    setSelectedImages([]);\r\n    setImageFiles([]);\r\n  };\r\n\r\n  const handleEdit = (item) => {\r\n    setEditingItem(item);\r\n    setFormData({\r\n      title: item.title,\r\n      description: item.description || '',\r\n      link_url: item.link_url || '',\r\n      recipient_id: item.recipient_id || '',\r\n      status: item.status\r\n    });\r\n    setShowModal(true);\r\n  };\r\n\r\n  const handleDelete = async (id) => {\r\n    if (window.confirm('Êtes-vous sûr de vouloir supprimer cet élément ?')) {\r\n      try {\r\n        await authService.api.delete(`/api/wishlist/${id}`);\r\n        await loadWishlist();\r\n      } catch (error) {\r\n        console.error('Erreur lors de la suppression:', error);\r\n      }\r\n    }\r\n  };\r\n\r\n  const updateStatus = async (id, status) => {\r\n    try {\r\n      await authService.api.put(`/api/wishlist/${id}`, { status });\r\n      await loadWishlist();\r\n    } catch (error) {\r\n      console.error('Erreur lors de la mise à jour du statut:', error);\r\n    }\r\n  };\r\n\r\n  const handleImageSelect = (e) => {\r\n    const files = Array.from(e.target.files);\r\n    setImageFiles(prev => [...prev, ...files]);\r\n    \r\n    files.forEach(file => {\r\n      const reader = new FileReader();\r\n      reader.onload = (e) => {\r\n        setSelectedImages(prev => [...prev, e.target.result]);\r\n      };\r\n      reader.readAsDataURL(file);\r\n    });\r\n  };\r\n\r\n  const removeImage = (index) => {\r\n    setSelectedImages(prev => prev.filter((_, i) => i !== index));\r\n    setImageFiles(prev => prev.filter((_, i) => i !== index));\r\n  };\r\n\r\n  const getStatusLabel = (status) => {\r\n    switch(status) {\r\n      case 'idea': return 'Idée';\r\n      case 'bought': return 'Acheté';\r\n      case 'gifted': return 'Offert';\r\n      default: return 'Idée';\r\n    }\r\n  };\r\n\r\n  const getUserName = (item) => {\r\n    if (!item.recipient_id) return 'Moi';\r\n    const couple = couples.find(c => c._id === item.recipient_id);\r\n    return couple ? couple.name : 'Inconnu';\r\n  };\r\n\r\n  const getImageUrl = (image) => {\r\n    if (typeof image === 'string') {\r\n      if (image.startsWith('http')) return image;\r\n      if (image.startsWith('/uploads/')) return image;\r\n      return `/uploads/${image}`;\r\n    }\r\n    if (!image) return null;\r\n    if (image.url) return image.url;\r\n    if (image.filename) return `/uploads/${image.filename}`;\r\n    return null;\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <Container>\r\n        <div className=\"skeleton\" style={{height:140, borderRadius:16, marginBottom:12}} />\r\n        <div className=\"skeleton\" style={{height:140, borderRadius:16, marginBottom:12}} />\r\n        <div className=\"skeleton\" style={{height:140, borderRadius:16}} />\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      <Header>\r\n        <Title>Wishlist</Title>\r\n        <div style={{display:'flex', gap:10}}>\r\n          {notifPermission !== 'granted' && (\r\n            <NotifyButton onClick={async () => {\r\n              try {\r\n                await ensurePushSubscribed();\r\n                setNotifPermission('granted');\r\n              } catch (e) {\r\n                alert(\"Impossible d'activer les notifications\");\r\n              }\r\n            }}>\r\n              Activer les notifications\r\n            </NotifyButton>\r\n          )}\r\n          <AddButton onClick={() => setShowModal(true)}>\r\n            <FiPlus /> Ajouter\r\n          </AddButton>\r\n        </div>\r\n      </Header>\r\n\r\n      {(!loading && wishlist.length === 0) && (\r\n        <div style={{\r\n          background:'white',border:'1px solid var(--border-color)',borderRadius:16,padding:24,\r\n          textAlign:'center',color:'var(--text-color)',boxShadow:'var(--shadow)',marginBottom:18\r\n        }}>\r\n          <div style={{fontSize:18,fontWeight:600,marginBottom:8}}>Votre wishlist est vide</div>\r\n          <div style={{opacity:0.8,marginBottom:16}}>Ajoutez vos idées cadeaux, liens et photos pour vous ou votre partenaire.</div>\r\n          <AddButton onClick={() => setShowModal(true)}>\r\n            <FiPlus /> Ajouter un premier élément\r\n          </AddButton>\r\n        </div>\r\n      )}\r\n\r\n      {wishlist.map((item) => {\r\n        const isExpanded = !!expanded[item._id];\r\n        const cover = item.image_url || (item.images && item.images[0] && getImageUrl(item.images[0]));\r\n        return (\r\n          <WishlistCard key={item._id} className={isExpanded ? 'expanded' : ''}>\r\n            <WishlistImage\r\n              image={cover}\r\n              onClick={() => setExpanded(prev => ({ ...prev, [item._id]: !prev[item._id] }))}\r\n            >\r\n              <StatusBadge status={item.status}>{getStatusLabel(item.status)}</StatusBadge>\r\n              {item.images && item.images.length > 1 && (\r\n                <GalleryBadge\r\n                  onClick={(e) => {\r\n                    e.stopPropagation();\r\n                    setCurrentImageIndex(0);\r\n                    setViewingImages(item);\r\n                  }}\r\n                >📷 {item.images.length}</GalleryBadge>\r\n              )}\r\n              {!cover && <ToggleDetails onClick={(e)=>{e.stopPropagation();setExpanded(p=>({...p,[item._id]:!p[item._id]}));}}>Détails</ToggleDetails>}\r\n            </WishlistImage>\r\n            {isExpanded && (\r\n              <WishlistContent>\r\n                <WishlistTitle>{item.title}</WishlistTitle>\r\n                <ForUser>Pour {getUserName(item)}</ForUser>\r\n                {item.description && (\r\n                  <WishlistDescription>{item.description}</WishlistDescription>\r\n                )}\r\n                <WishlistActions>\r\n                  <ActionButton\r\n                    className={item.status === 'idea' ? 'active' : ''}\r\n                    onClick={() => updateStatus(item._id, 'idea')}\r\n                  >Idée</ActionButton>\r\n                  <ActionButton\r\n                    className={item.status === 'bought' ? 'active' : ''}\r\n                    onClick={() => updateStatus(item._id, 'bought')}\r\n                  >Acheté</ActionButton>\r\n                  <ActionButton\r\n                    className={item.status === 'gifted' ? 'active' : ''}\r\n                    onClick={() => updateStatus(item._id, 'gifted')}\r\n                  >Offert</ActionButton>\r\n                  {item.link_url && (\r\n                    <LinkButton href={item.link_url} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                      <FiExternalLink /> Voir\r\n                    </LinkButton>\r\n                  )}\r\n                </WishlistActions>\r\n                <EditDeleteRow>\r\n                  <EditButton onClick={() => handleEdit(item)}>Modifier</EditButton>\r\n                  <DeleteButton onClick={() => handleDelete(item._id)}>Supprimer</DeleteButton>\r\n                </EditDeleteRow>\r\n              </WishlistContent>\r\n            )}\r\n          </WishlistCard>\r\n        );\r\n      })}\r\n\r\n      {showModal && (\r\n        <Modal onClick={(e) => e.target === e.currentTarget && handleCloseModal()}>\r\n          <ModalContent>\r\n            <ModalTitle>{editingItem ? 'Modifier' : 'Ajouter'} un élément</ModalTitle>\r\n            \r\n            <form onSubmit={handleSubmit}>\r\n              <FormGroup>\r\n                <Label>Titre *</Label>\r\n                <Input\r\n                  type=\"text\"\r\n                  value={formData.title}\r\n                  onChange={(e) => setFormData({...formData, title: e.target.value})}\r\n                  required\r\n                />\r\n              </FormGroup>\r\n\r\n              <FormGroup>\r\n                <Label>Description</Label>\r\n                <TextArea\r\n                  value={formData.description}\r\n                  onChange={(e) => setFormData({...formData, description: e.target.value})}\r\n                  placeholder=\"Description de l'élément...\"\r\n                />\r\n              </FormGroup>\r\n\r\n              <FormGroup>\r\n                <Label>Lien URL</Label>\r\n                <Input\r\n                  type=\"url\"\r\n                  value={formData.link_url}\r\n                  onChange={(e) => setFormData({...formData, link_url: e.target.value})}\r\n                  placeholder=\"https://...\"\r\n                />\r\n              </FormGroup>\r\n\r\n              <FormGroup>\r\n                <Label>Pour qui ?</Label>\r\n                <Select\r\n                  value={formData.recipient_id}\r\n                  onChange={(e) => setFormData({...formData, recipient_id: e.target.value})}\r\n                >\r\n                  <option value=\"\">Moi</option>\r\n                  {couples.map(couple => (\r\n                    <option key={couple._id} value={couple._id}>{couple.name}</option>\r\n                  ))}\r\n                </Select>\r\n              </FormGroup>\r\n\r\n              <FormGroup>\r\n                <Label>Statut</Label>\r\n                <Select\r\n                  value={formData.status}\r\n                  onChange={(e) => setFormData({...formData, status: e.target.value})}\r\n                >\r\n                  <option value=\"idea\">Idée</option>\r\n                  <option value=\"bought\">Acheté</option>\r\n                  <option value=\"gifted\">Offert</option>\r\n                </Select>\r\n              </FormGroup>\r\n\r\n              <FormGroup>\r\n                <Label>Images</Label>\r\n                <Input\r\n                  type=\"file\"\r\n                  multiple\r\n                  accept=\"image/*\"\r\n                  onChange={handleImageSelect}\r\n                />\r\n                {selectedImages.length > 0 && (\r\n                  <ImagePreview>\r\n                    {selectedImages.map((src, index) => (\r\n                      <PreviewImage key={index} src={src}>\r\n                        <RemoveImageButton onClick={() => removeImage(index)}>\r\n                          ×\r\n                        </RemoveImageButton>\r\n                      </PreviewImage>\r\n                    ))}\r\n                  </ImagePreview>\r\n                )}\r\n              </FormGroup>\r\n\r\n              <ModalActions>\r\n                <ModalButton type=\"button\" className=\"secondary\" onClick={handleCloseModal}>\r\n                  Annuler\r\n                </ModalButton>\r\n                <ModalButton type=\"submit\" className=\"primary\" disabled={!formData.title.trim()}>\r\n                  {editingItem ? 'Modifier' : 'Ajouter'}\r\n                </ModalButton>\r\n              </ModalActions>\r\n            </form>\r\n          </ModalContent>\r\n        </Modal>\r\n      )}\r\n\r\n      {viewingImages && (\r\n        <ImageGallery onClick={() => setViewingImages(null)}>\r\n          <CloseButton onClick={() => setViewingImages(null)}>×</CloseButton>\r\n          <GalleryImage \r\n            src={getImageUrl(viewingImages.images[currentImageIndex])}\r\n            alt=\"Wishlist item\"\r\n          />\r\n          {viewingImages.images.length > 1 && (\r\n            <GalleryControls>\r\n              <GalleryButton \r\n                onClick={(e) => {\r\n                  e.stopPropagation();\r\n                  setCurrentImageIndex(prev => \r\n                    prev > 0 ? prev - 1 : viewingImages.images.length - 1\r\n                  );\r\n                }}\r\n              >\r\n                Précédent\r\n              </GalleryButton>\r\n              <GalleryButton \r\n                onClick={(e) => {\r\n                  e.stopPropagation();\r\n                  setCurrentImageIndex(prev => \r\n                    prev < viewingImages.images.length - 1 ? prev + 1 : 0\r\n                  );\r\n                }}\r\n              >\r\n                Suivant\r\n              </GalleryButton>\r\n            </GalleryControls>\r\n          )}\r\n        </ImageGallery>\r\n      )}\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default Wishlist;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,MAAM,MAAM,mBAAmB;AACtC,SAASC,MAAM,EAAEC,cAAc,QAAQ,gBAAgB;AACvD,SAASC,WAAW,QAAQ,yBAAyB;AACrD,SAASC,oBAAoB,EAAEC,mBAAmB,QAAQ,iCAAiC;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE5F,MAAMC,SAAS,GAAGR,MAAM,CAACS,GAAG;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,EAAA,GARIF,SAAS;AAUf,MAAMG,MAAM,GAAGX,MAAM,CAACS,GAAG;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACG,GAAA,GAZID,MAAM;AAcZ,MAAME,KAAK,GAAGb,MAAM,CAACc,EAAE;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,GAAA,GATIF,KAAK;AAWX,MAAMG,SAAS,GAAGhB,MAAM,CAACiB,MAAM;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,GAAA,GA7BIF,SAAS;AA+Bf,MAAMG,YAAY,GAAGnB,MAAM,CAACiB,MAAM;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACG,GAAA,GAlBID,YAAY;AAoBlB,MAAME,YAAY,GAAGrB,MAAM,CAACS,GAAG;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACa,GAAA,GAZID,YAAY;AAclB,MAAME,aAAa,GAAGvB,MAAM,CAACS,GAAG;AAChC;AACA,gBAAgB,CAAC;EAAEe;AAAM,CAAC,KAAK;EAC3B,IAAIA,KAAK,EAAE;IACT,MAAMC,CAAC,GAAGD,KAAK,CAACE,UAAU,CAAC,MAAM,CAAC,GAAGF,KAAK,GAAIA,KAAK,CAACE,UAAU,CAAC,GAAG,CAAC,GAAGF,KAAK,GAAG,IAAIA,KAAK,EAAG;IAC1F,OAAO,OAAOC,CAAC,GAAG;EACpB;EACA,OAAO,mCAAmC;AAC5C,CAAC;AACH;AACA;AACA;AACA;AACA,CAAC;AAACE,GAAA,GAbIJ,aAAa;AAenB,MAAMK,eAAe,GAAG5B,MAAM,CAACS,GAAG;AAClC;AACA,CAAC;AAACoB,GAAA,GAFID,eAAe;AAIrB,MAAME,aAAa,GAAG9B,MAAM,CAAC+B,EAAE;AAC/B;AACA;AACA;AACA,CAAC;AAACC,GAAA,GAJIF,aAAa;AAMnB,MAAMG,OAAO,GAAGjC,MAAM,CAACyB,CAAC;AACxB;AACA;AACA;AACA;AACA,CAAC;AAACS,GAAA,GALID,OAAO;AAOb,MAAME,mBAAmB,GAAGnC,MAAM,CAACyB,CAAC;AACpC;AACA;AACA;AACA;AACA,CAAC;AAACW,GAAA,GALID,mBAAmB;AAOzB,MAAME,WAAW,GAAGrC,MAAM,CAACS,GAAG;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB6B,KAAK,IAAI;EACrB,QAAOA,KAAK,CAACC,MAAM;IACjB,KAAK,MAAM;MAAE,OAAO,SAAS;IAC7B,KAAK,QAAQ;MAAE,OAAO,SAAS;IAC/B,KAAK,QAAQ;MAAE,OAAO,SAAS;IAC/B;MAAS,OAAO,SAAS;EAC3B;AACF,CAAC;AACH,CAAC;AAACC,IAAA,GAjBIH,WAAW;AAmBjB,MAAMI,aAAa,GAAGzC,MAAM,CAACiB,MAAM;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACyB,IAAA,GAfID,aAAa;AAiBnB,MAAME,YAAY,GAAG3C,MAAM,CAACiB,MAAM;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAAC2B,IAAA,GAdID,YAAY;AAgBlB,MAAME,eAAe,GAAG7C,MAAM,CAACS,GAAG;AAClC;AACA;AACA;AACA;AACA,CAAC;AAACqC,IAAA,GALID,eAAe;AAOrB,MAAME,YAAY,GAAG/C,MAAM,CAACiB,MAAM;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAAC+B,IAAA,GAlBID,YAAY;AAoBlB,MAAME,UAAU,GAAGjD,MAAM,CAACkD,CAAC;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,IAAA,GAhBIF,UAAU;AAkBhB,MAAMG,aAAa,GAAGpD,MAAM,CAACS,GAAG;AAChC;AACA;AACA;AACA,CAAC;AAAC4C,IAAA,GAJID,aAAa;AAMnB,MAAME,UAAU,GAAGtD,MAAM,CAACiB,MAAM;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACsC,IAAA,GAbID,UAAU;AAehB,MAAME,YAAY,GAAGxD,MAAM,CAACiB,MAAM;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACwC,IAAA,GAdID,YAAY;AAgBlB,MAAME,KAAK,GAAG1D,MAAM,CAACS,GAAG;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACkD,IAAA,GAlBID,KAAK;AAoBX,MAAME,YAAY,GAAG5D,MAAM,CAACS,GAAG;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACoD,IAAA,GAdID,YAAY;AAgBlB,MAAME,UAAU,GAAG9D,MAAM,CAAC+D,EAAE;AAC5B;AACA;AACA,CAAC;AAACC,IAAA,GAHIF,UAAU;AAKhB,MAAMG,SAAS,GAAGjE,MAAM,CAACS,GAAG;AAC5B;AACA,CAAC;AAACyD,IAAA,GAFID,SAAS;AAIf,MAAME,KAAK,GAAGnE,MAAM,CAACoE,KAAK;AAC1B;AACA;AACA;AACA;AACA,CAAC;AAACC,IAAA,GALIF,KAAK;AAOX,MAAMG,KAAK,GAAGtE,MAAM,CAACuE,KAAK;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,IAAA,GAZIF,KAAK;AAcX,MAAMG,QAAQ,GAAGzE,MAAM,CAAC0E,QAAQ;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,IAAA,GAdIF,QAAQ;AAgBd,MAAMG,MAAM,GAAG5E,MAAM,CAAC6E,MAAM;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,IAAA,GAZIF,MAAM;AAcZ,MAAMG,YAAY,GAAG/E,MAAM,CAACS,GAAG;AAC/B;AACA;AACA;AACA;AACA,CAAC;AAACuE,IAAA,GALID,YAAY;AAOlB,MAAME,WAAW,GAAGjF,MAAM,CAACiB,MAAM;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACiE,IAAA,GA7BID,WAAW;AA+BjB,MAAME,YAAY,GAAGnF,MAAM,CAACS,GAAG;AAC/B;AACA;AACA;AACA;AACA,CAAC;AAAC2E,IAAA,GALID,YAAY;AAOlB,MAAME,YAAY,GAAGrF,MAAM,CAACS,GAAG;AAC/B;AACA;AACA,0BAA0B6B,KAAK,IAAIA,KAAK,CAACgD,GAAG;AAC5C;AACA;AACA;AACA;AACA,CAAC;AAACC,IAAA,GARIF,YAAY;AAUlB,MAAMG,iBAAiB,GAAGxF,MAAM,CAACiB,MAAM;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACwE,IAAA,GAfID,iBAAiB;AAiBvB,MAAME,YAAY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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}