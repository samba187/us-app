{"ast":null,"code":"import _objectSpread from\"C:/Users/sorbo/US/us-app/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _taggedTemplateLiteral from\"C:/Users/sorbo/US/us-app/frontend/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8,_templateObject9;import React,{useState}from'react';import styled from'styled-components';import{authService}from'../services/authService';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const LoginContainer=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  min-height: 100vh;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  padding: 20px;\\n\"])));const LoginCard=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  background: rgba(255, 255, 255, 0.95);\\n  backdrop-filter: blur(10px);\\n  border-radius: 20px;\\n  padding: 40px;\\n  width: 100%;\\n  max-width: 400px;\\n  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\\n  text-align: center;\\n\"])));const Logo=styled.h1(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  font-size: 48px;\\n  font-weight: 700;\\n  background: linear-gradient(135deg, #ff6b8a, #4ecdc4);\\n  -webkit-background-clip: text;\\n  -webkit-text-fill-color: transparent;\\n  margin-bottom: 10px;\\n\"])));const Subtitle=styled.p(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  color: var(--text-light);\\n  margin-bottom: 30px;\\n  font-size: 16px;\\n\"])));const Form=styled.form(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: column;\\n  gap: 20px;\\n\"])));const Input=styled.input(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n  padding: 15px;\\n  border: 2px solid var(--border-color);\\n  border-radius: 12px;\\n  font-size: 16px;\\n  transition: border-color 0.3s ease;\\n\\n  &:focus {\\n    outline: none;\\n    border-color: var(--primary-color);\\n  }\\n\"])));const Button=styled.button(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n  background: linear-gradient(135deg, #ff6b8a, #4ecdc4);\\n  color: white;\\n  border: none;\\n  padding: 15px;\\n  border-radius: 12px;\\n  font-size: 16px;\\n  font-weight: 600;\\n  cursor: pointer;\\n  transition: transform 0.2s ease;\\n\\n  &:hover {\\n    transform: translateY(-2px);\\n  }\\n\\n  &:disabled {\\n    opacity: 0.6;\\n    cursor: not-allowed;\\n    transform: none;\\n  }\\n\"])));const ToggleButton=styled.button(_templateObject8||(_templateObject8=_taggedTemplateLiteral([\"\\n  background: none;\\n  border: none;\\n  color: var(--primary-color);\\n  font-weight: 600;\\n  cursor: pointer;\\n  margin-top: 15px;\\n\"])));const ErrorMessage=styled.div(_templateObject9||(_templateObject9=_taggedTemplateLiteral([\"\\n  color: #e74c3c;\\n  background: rgba(231, 76, 60, 0.1);\\n  padding: 10px;\\n  border-radius: 8px;\\n  margin-bottom: 20px;\\n\"])));function Login(_ref){let{onLogin}=_ref;const[isLogin,setIsLogin]=useState(true);const[formData,setFormData]=useState({name:'',email:'',password:''});const[loading,setLoading]=useState(false);const[error,setError]=useState('');const handleChange=e=>{setFormData(_objectSpread(_objectSpread({},formData),{},{[e.target.name]:e.target.value}));};const handleSubmit=async e=>{e.preventDefault();setLoading(true);setError('');try{let response;if(isLogin){response=await authService.login(formData.email,formData.password);}else{response=await authService.register(formData.name,formData.email,formData.password);}onLogin(response.token,response.user);}catch(error){var _error$response,_error$response$data;setError(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||'Une erreur est survenue');}setLoading(false);};return/*#__PURE__*/_jsx(LoginContainer,{children:/*#__PURE__*/_jsxs(LoginCard,{className:\"fade-in\",children:[/*#__PURE__*/_jsx(Logo,{children:\"US\"}),/*#__PURE__*/_jsx(Subtitle,{children:\"Notre app priv\\xE9e \\u2764\\uFE0F\"}),error&&/*#__PURE__*/_jsx(ErrorMessage,{children:error}),/*#__PURE__*/_jsxs(Form,{onSubmit:handleSubmit,children:[!isLogin&&/*#__PURE__*/_jsx(Input,{type:\"text\",name:\"name\",placeholder:\"Votre pr\\xE9nom\",value:formData.name,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(Input,{type:\"email\",name:\"email\",placeholder:\"Email\",value:formData.email,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(Input,{type:\"password\",name:\"password\",placeholder:\"Mot de passe\",value:formData.password,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(Button,{type:\"submit\",disabled:loading,children:loading?'Chargement...':isLogin?'Se connecter':'S\\'inscrire'})]}),/*#__PURE__*/_jsx(ToggleButton,{onClick:()=>setIsLogin(!isLogin),children:isLogin?'Pas encore de compte ? S\\'inscrire':'Déjà un compte ? Se connecter'})]})});}export default Login;","map":{"version":3,"names":["React","useState","styled","authService","jsx","_jsx","jsxs","_jsxs","LoginContainer","div","_templateObject","_taggedTemplateLiteral","LoginCard","_templateObject2","Logo","h1","_templateObject3","Subtitle","p","_templateObject4","Form","form","_templateObject5","Input","input","_templateObject6","Button","button","_templateObject7","ToggleButton","_templateObject8","ErrorMessage","_templateObject9","Login","_ref","onLogin","isLogin","setIsLogin","formData","setFormData","name","email","password","loading","setLoading","error","setError","handleChange","e","_objectSpread","target","value","handleSubmit","preventDefault","response","login","register","token","user","_error$response","_error$response$data","data","message","children","className","onSubmit","type","placeholder","onChange","required","disabled","onClick"],"sources":["C:/Users/sorbo/US/us-app/frontend/src/components/Login.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport { authService } from '../services/authService';\r\n\r\nconst LoginContainer = styled.div`\r\n  min-height: 100vh;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 20px;\r\n`;\r\n\r\nconst LoginCard = styled.div`\r\n  background: rgba(255, 255, 255, 0.95);\r\n  backdrop-filter: blur(10px);\r\n  border-radius: 20px;\r\n  padding: 40px;\r\n  width: 100%;\r\n  max-width: 400px;\r\n  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\r\n  text-align: center;\r\n`;\r\n\r\nconst Logo = styled.h1`\r\n  font-size: 48px;\r\n  font-weight: 700;\r\n  background: linear-gradient(135deg, #ff6b8a, #4ecdc4);\r\n  -webkit-background-clip: text;\r\n  -webkit-text-fill-color: transparent;\r\n  margin-bottom: 10px;\r\n`;\r\n\r\nconst Subtitle = styled.p`\r\n  color: var(--text-light);\r\n  margin-bottom: 30px;\r\n  font-size: 16px;\r\n`;\r\n\r\nconst Form = styled.form`\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 20px;\r\n`;\r\n\r\nconst Input = styled.input`\r\n  padding: 15px;\r\n  border: 2px solid var(--border-color);\r\n  border-radius: 12px;\r\n  font-size: 16px;\r\n  transition: border-color 0.3s ease;\r\n\r\n  &:focus {\r\n    outline: none;\r\n    border-color: var(--primary-color);\r\n  }\r\n`;\r\n\r\nconst Button = styled.button`\r\n  background: linear-gradient(135deg, #ff6b8a, #4ecdc4);\r\n  color: white;\r\n  border: none;\r\n  padding: 15px;\r\n  border-radius: 12px;\r\n  font-size: 16px;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  transition: transform 0.2s ease;\r\n\r\n  &:hover {\r\n    transform: translateY(-2px);\r\n  }\r\n\r\n  &:disabled {\r\n    opacity: 0.6;\r\n    cursor: not-allowed;\r\n    transform: none;\r\n  }\r\n`;\r\n\r\nconst ToggleButton = styled.button`\r\n  background: none;\r\n  border: none;\r\n  color: var(--primary-color);\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  margin-top: 15px;\r\n`;\r\n\r\nconst ErrorMessage = styled.div`\r\n  color: #e74c3c;\r\n  background: rgba(231, 76, 60, 0.1);\r\n  padding: 10px;\r\n  border-radius: 8px;\r\n  margin-bottom: 20px;\r\n`;\r\n\r\nfunction Login({ onLogin }) {\r\n  const [isLogin, setIsLogin] = useState(true);\r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    email: '',\r\n    password: ''\r\n  });\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n\r\n  const handleChange = (e) => {\r\n    setFormData({\r\n      ...formData,\r\n      [e.target.name]: e.target.value\r\n    });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setError('');\r\n\r\n    try {\r\n      let response;\r\n      if (isLogin) {\r\n        response = await authService.login(formData.email, formData.password);\r\n      } else {\r\n        response = await authService.register(formData.name, formData.email, formData.password);\r\n      }\r\n      \r\n      onLogin(response.token, response.user);\r\n    } catch (error) {\r\n      setError(error.response?.data?.message || 'Une erreur est survenue');\r\n    }\r\n    \r\n    setLoading(false);\r\n  };\r\n\r\n  return (\r\n    <LoginContainer>\r\n      <LoginCard className=\"fade-in\">\r\n        <Logo>US</Logo>\r\n        <Subtitle>Notre app privée ❤️</Subtitle>\r\n        \r\n        {error && <ErrorMessage>{error}</ErrorMessage>}\r\n        \r\n        <Form onSubmit={handleSubmit}>\r\n          {!isLogin && (\r\n            <Input\r\n              type=\"text\"\r\n              name=\"name\"\r\n              placeholder=\"Votre prénom\"\r\n              value={formData.name}\r\n              onChange={handleChange}\r\n              required\r\n            />\r\n          )}\r\n          \r\n          <Input\r\n            type=\"email\"\r\n            name=\"email\"\r\n            placeholder=\"Email\"\r\n            value={formData.email}\r\n            onChange={handleChange}\r\n            required\r\n          />\r\n          \r\n          <Input\r\n            type=\"password\"\r\n            name=\"password\"\r\n            placeholder=\"Mot de passe\"\r\n            value={formData.password}\r\n            onChange={handleChange}\r\n            required\r\n          />\r\n          \r\n          <Button type=\"submit\" disabled={loading}>\r\n            {loading ? 'Chargement...' : (isLogin ? 'Se connecter' : 'S\\'inscrire')}\r\n          </Button>\r\n        </Form>\r\n        \r\n        <ToggleButton onClick={() => setIsLogin(!isLogin)}>\r\n          {isLogin ? 'Pas encore de compte ? S\\'inscrire' : 'Déjà un compte ? Se connecter'}\r\n        </ToggleButton>\r\n      </LoginCard>\r\n    </LoginContainer>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}