{"ast":null,"code":"import _taggedTemplateLiteral from\"C:/Users/sorbo/US/us-app/frontend/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6;import React,{useEffect,useState}from'react';import styled from'styled-components';import{coupleService}from'../services/authService';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Wrap=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"padding:24px;padding-bottom:120px;max-width:600px;margin:0 auto;\"])));const Card=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"background:#fff;border-radius:24px;padding:28px;box-shadow:0 8px 24px -6px rgba(0,0,0,.12);margin-bottom:24px;\"])));const Title=styled.h1(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"margin:0 0 18px;font-size:28px;background:linear-gradient(135deg,#ff6b8a,#4ecdc4);-webkit-background-clip:text;-webkit-text-fill-color:transparent;\"])));const Row=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;\"])));const CodeBox=styled.div(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"font-family:monospace;font-size:20px;letter-spacing:4px;padding:12px 16px;border:2px dashed #d5dbe1;border-radius:14px;user-select:all;background:#f5f7f9;\"])));const Btn=styled.button(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"padding:12px 18px;border:none;border-radius:14px;font-weight:600;background:\",\";color:#fff;cursor:pointer;\"])),p=>p.variant==='danger'?'#ff6b8a':'linear-gradient(135deg,#ff6b8a,#4ecdc4)');export default function Profile(_ref){var _JSON$parse2;let{onLogout}=_ref;const[me,setMe]=useState(null);const[loading,setLoading]=useState(true);useEffect(()=>{(async()=>{try{const r=await coupleService.me();setMe(r);}finally{setLoading(false);}})();},[]);if(loading)return/*#__PURE__*/_jsx(Wrap,{children:\"Chargement\\u2026\"});const partner=((me===null||me===void 0?void 0:me.members)||[]).length>1?me.members.find(m=>{var _JSON$parse;return m.email!==((_JSON$parse=JSON.parse(localStorage.getItem('us_user')||'{}'))===null||_JSON$parse===void 0?void 0:_JSON$parse.email);}):null;const inviteCode=me===null||me===void 0?void 0:me.invite_code;return/*#__PURE__*/_jsx(Wrap,{children:/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(Title,{children:\"Profil\"}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Vous\"}),/*#__PURE__*/_jsx(\"span\",{children:(_JSON$parse2=JSON.parse(localStorage.getItem('us_user')||'{}'))===null||_JSON$parse2===void 0?void 0:_JSON$parse2.name})]}),partner&&/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Partenaire\"}),/*#__PURE__*/_jsx(\"span\",{children:partner.name})]}),!partner&&inviteCode&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:16},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:14,marginBottom:6},children:\"Code d'invitation \\xE0 partager :\"}),/*#__PURE__*/_jsx(CodeBox,{children:inviteCode})]}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:28},children:/*#__PURE__*/_jsx(Btn,{variant:\"danger\",onClick:()=>{if(window.confirm('Se d√©connecter ?')){localStorage.removeItem('us_token');localStorage.removeItem('us_user');window.location.href='/';}},children:\"D\\xE9connexion\"})})]})});}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}