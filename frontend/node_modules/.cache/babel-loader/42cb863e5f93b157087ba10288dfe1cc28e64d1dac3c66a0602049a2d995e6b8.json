{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sorbo\\\\US\\\\us-app\\\\frontend\\\\src\\\\components\\\\Login.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport styled from 'styled-components';\nimport { authService } from '../services/authService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Wrap = styled.div`\n  max-width: 420px; margin: 60px auto; background:#fff; border:1px solid var(--border-color); border-radius:16px; box-shadow:var(--shadow); padding:20px;\n`;\n_c = Wrap;\nconst Title = styled.h2` margin:0 0 12px 0; `;\n_c2 = Title;\nconst Input = styled.input` width:100%; padding:12px; border:2px solid var(--border-color); border-radius:8px; margin-bottom:10px; `;\n_c3 = Input;\nconst Button = styled.button` width:100%; padding:12px; border:none; border-radius:8px; background:var(--primary-color); color:#fff; cursor:pointer; `;\n_c4 = Button;\nconst Switch = styled.button` margin-top:8px; background:none; border:none; color:var(--primary-color); cursor:pointer; `;\n_c5 = Switch;\nexport default function Login({\n  onLogin\n}) {\n  _s();\n  const [mode, setMode] = useState('login');\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [busy, setBusy] = useState(false);\n  const submit = async e => {\n    e.preventDefault();\n    setBusy(true);\n    try {\n      if (mode === 'login') await authService.login(email, password);else await authService.register(name, email, password);\n      onLogin && onLogin();\n    } catch (e) {\n      var _e$response, _e$response$data;\n      alert((e === null || e === void 0 ? void 0 : (_e$response = e.response) === null || _e$response === void 0 ? void 0 : (_e$response$data = _e$response.data) === null || _e$response$data === void 0 ? void 0 : _e$response$data.error) || e.message);\n    }\n    setBusy(false);\n  };\n  return /*#__PURE__*/_jsxDEV(Wrap, {\n    children: [/*#__PURE__*/_jsxDEV(Title, {\n      children: mode === 'login' ? 'Connexion' : 'Créer un compte'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: submit,\n      children: [mode === 'register' && /*#__PURE__*/_jsxDEV(Input, {\n        placeholder: \"Nom\",\n        value: name,\n        onChange: e => setName(e.target.value),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        type: \"email\",\n        placeholder: \"Email\",\n        value: email,\n        onChange: e => setEmail(e.target.value),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        type: \"password\",\n        placeholder: \"Mot de passe\",\n        value: password,\n        onChange: e => setPassword(e.target.value),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"submit\",\n        disabled: busy,\n        children: busy ? '...' : mode === 'login' ? 'Se connecter' : \"S'inscrire\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: 'center'\n      },\n      children: /*#__PURE__*/_jsxDEV(Switch, {\n        onClick: () => setMode(mode === 'login' ? 'register' : 'login'),\n        children: mode === 'login' ? \"Créer un compte\" : 'Déjà inscrit ? Se connecter'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 5\n  }, this);\n}\n_s(Login, \"hnYRkQXYmSGHOe8PrgUTSf/yljE=\");\n_c6 = Login;\nvar _c, _c2, _c3, _c4, _c5, _c6;\n$RefreshReg$(_c, \"Wrap\");\n$RefreshReg$(_c2, \"Title\");\n$RefreshReg$(_c3, \"Input\");\n$RefreshReg$(_c4, \"Button\");\n$RefreshReg$(_c5, \"Switch\");\n$RefreshReg$(_c6, \"Login\");","map":{"version":3,"names":["React","useState","styled","authService","jsxDEV","_jsxDEV","Wrap","div","_c","Title","h2","_c2","Input","input","_c3","Button","button","_c4","Switch","_c5","Login","onLogin","_s","mode","setMode","name","setName","email","setEmail","password","setPassword","busy","setBusy","submit","e","preventDefault","login","register","_e$response","_e$response$data","alert","response","data","error","message","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","placeholder","value","onChange","target","required","type","disabled","style","textAlign","onClick","_c6","$RefreshReg$"],"sources":["C:/Users/sorbo/US/us-app/frontend/src/components/Login.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport { authService } from '../services/authService';\r\n\r\nconst Wrap = styled.div`\r\n  max-width: 420px; margin: 60px auto; background:#fff; border:1px solid var(--border-color); border-radius:16px; box-shadow:var(--shadow); padding:20px;\r\n`;\r\nconst Title = styled.h2` margin:0 0 12px 0; `;\r\nconst Input = styled.input` width:100%; padding:12px; border:2px solid var(--border-color); border-radius:8px; margin-bottom:10px; `;\r\nconst Button = styled.button` width:100%; padding:12px; border:none; border-radius:8px; background:var(--primary-color); color:#fff; cursor:pointer; `;\r\nconst Switch = styled.button` margin-top:8px; background:none; border:none; color:var(--primary-color); cursor:pointer; `;\r\n\r\nexport default function Login({ onLogin }) {\r\n  const [mode, setMode] = useState('login');\r\n  const [name, setName] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [busy, setBusy] = useState(false);\r\n\r\n  const submit = async (e) => {\r\n    e.preventDefault(); setBusy(true);\r\n    try {\r\n      if (mode === 'login') await authService.login(email, password);\r\n      else await authService.register(name, email, password);\r\n      onLogin && onLogin();\r\n    } catch (e) {\r\n      alert((e?.response?.data?.error) || e.message);\r\n    }\r\n    setBusy(false);\r\n  };\r\n\r\n  return (\r\n    <Wrap>\r\n      <Title>{mode === 'login' ? 'Connexion' : 'Créer un compte'}</Title>\r\n      <form onSubmit={submit}>\r\n        {mode === 'register' && (\r\n          <Input placeholder=\"Nom\" value={name} onChange={e=>setName(e.target.value)} required />\r\n        )}\r\n        <Input type=\"email\" placeholder=\"Email\" value={email} onChange={e=>setEmail(e.target.value)} required />\r\n        <Input type=\"password\" placeholder=\"Mot de passe\" value={password} onChange={e=>setPassword(e.target.value)} required />\r\n        <Button type=\"submit\" disabled={busy}>{busy ? '...' : (mode==='login' ? 'Se connecter' : \"S'inscrire\")}</Button>\r\n      </form>\r\n      <div style={{textAlign:'center'}}>\r\n        <Switch onClick={()=>setMode(mode==='login'?'register':'login')}>\r\n          {mode==='login' ? \"Créer un compte\" : 'Déjà inscrit ? Se connecter'}\r\n        </Switch>\r\n      </div>\r\n    </Wrap>\r\n  );\r\n}\r\n\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}