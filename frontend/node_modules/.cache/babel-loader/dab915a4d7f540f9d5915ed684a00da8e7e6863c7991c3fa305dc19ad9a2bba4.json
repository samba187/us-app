{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sorbo\\\\US\\\\us-app\\\\frontend\\\\src\\\\pages\\\\Profile.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport { coupleService } from '../services/authService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Wrap = styled.div`padding:24px;padding-bottom:120px;max-width:600px;margin:0 auto;`;\n_c = Wrap;\nconst Card = styled.div`background:#fff;border-radius:24px;padding:28px;box-shadow:0 8px 24px -6px rgba(0,0,0,.12);margin-bottom:24px;`;\n_c2 = Card;\nconst Title = styled.h1`margin:0 0 18px;font-size:28px;background:linear-gradient(135deg,#ff6b8a,#4ecdc4);-webkit-background-clip:text;-webkit-text-fill-color:transparent;`;\n_c3 = Title;\nconst Row = styled.div`display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;`;\n_c4 = Row;\nconst CodeBox = styled.div`font-family:monospace;font-size:20px;letter-spacing:4px;padding:12px 16px;border:2px dashed #d5dbe1;border-radius:14px;user-select:all;background:#f5f7f9;`;\n_c5 = CodeBox;\nconst Btn = styled.button`padding:12px 18px;border:none;border-radius:14px;font-weight:600;background:${p => p.variant === 'danger' ? '#ff6b8a' : 'linear-gradient(135deg,#ff6b8a,#4ecdc4)'};color:#fff;cursor:pointer;`;\n_c6 = Btn;\nexport default function Profile({\n  onLogout\n}) {\n  _s();\n  var _JSON$parse2;\n  const [me, setMe] = useState(null);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    (async () => {\n      try {\n        const r = await coupleService.me();\n        setMe(r);\n      } finally {\n        setLoading(false);\n      }\n    })();\n  }, []);\n  if (loading) return /*#__PURE__*/_jsxDEV(Wrap, {\n    children: \"Chargement\\u2026\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 15,\n    columnNumber: 22\n  }, this);\n  const partner = ((me === null || me === void 0 ? void 0 : me.members) || []).length > 1 ? me.members.find(m => {\n    var _JSON$parse;\n    return m.email !== ((_JSON$parse = JSON.parse(localStorage.getItem('us_user') || '{}')) === null || _JSON$parse === void 0 ? void 0 : _JSON$parse.email);\n  }) : null;\n  const inviteCode = me === null || me === void 0 ? void 0 : me.invite_code;\n  return /*#__PURE__*/_jsxDEV(Wrap, {\n    children: /*#__PURE__*/_jsxDEV(Card, {\n      children: [/*#__PURE__*/_jsxDEV(Title, {\n        children: \"Profil\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 20,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Vous\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 21,\n          columnNumber: 12\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: (_JSON$parse2 = JSON.parse(localStorage.getItem('us_user') || '{}')) === null || _JSON$parse2 === void 0 ? void 0 : _JSON$parse2.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 21,\n          columnNumber: 33\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 21,\n        columnNumber: 7\n      }, this), partner && /*#__PURE__*/_jsxDEV(Row, {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Partenaire\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 22,\n          columnNumber: 24\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: partner.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 22,\n          columnNumber: 51\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 19\n      }, this), !partner && inviteCode && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: 16\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: 14,\n            marginBottom: 6\n          },\n          children: \"Code d'invitation \\xE0 partager :\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 24,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(CodeBox, {\n          children: inviteCode\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 25,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 34\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: 28,\n          display: 'flex',\n          gap: 12\n        },\n        children: [/*#__PURE__*/_jsxDEV(Btn, {\n          onClick: () => {\n            localStorage.removeItem('us_token');\n            localStorage.removeItem('us_user');\n            window.location.href = '/';\n          },\n          children: \"D\\xE9connexion\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 28,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Btn, {\n          variant: \"danger\",\n          onClick: () => {\n            if (window.confirm('Se déconnecter ?')) {\n              localStorage.removeItem('us_token');\n              localStorage.removeItem('us_user');\n              window.location.href = '/';\n            }\n          },\n          children: \"Logout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 18,\n    columnNumber: 10\n  }, this);\n}\n_s(Profile, \"xgt7JI68VMIJIrE36CGy3y9IgIY=\");\n_c7 = Profile;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7;\n$RefreshReg$(_c, \"Wrap\");\n$RefreshReg$(_c2, \"Card\");\n$RefreshReg$(_c3, \"Title\");\n$RefreshReg$(_c4, \"Row\");\n$RefreshReg$(_c5, \"CodeBox\");\n$RefreshReg$(_c6, \"Btn\");\n$RefreshReg$(_c7, \"Profile\");","map":{"version":3,"names":["React","useEffect","useState","styled","coupleService","jsxDEV","_jsxDEV","Wrap","div","_c","Card","_c2","Title","h1","_c3","Row","_c4","CodeBox","_c5","Btn","button","p","variant","_c6","Profile","onLogout","_s","_JSON$parse2","me","setMe","loading","setLoading","r","children","fileName","_jsxFileName","lineNumber","columnNumber","partner","members","length","find","m","_JSON$parse","email","JSON","parse","localStorage","getItem","inviteCode","invite_code","name","style","marginTop","fontSize","marginBottom","display","gap","onClick","removeItem","window","location","href","confirm","_c7","$RefreshReg$"],"sources":["C:/Users/sorbo/US/us-app/frontend/src/pages/Profile.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport { coupleService } from '../services/authService';\r\n\r\nconst Wrap = styled.div`padding:24px;padding-bottom:120px;max-width:600px;margin:0 auto;`;\r\nconst Card = styled.div`background:#fff;border-radius:24px;padding:28px;box-shadow:0 8px 24px -6px rgba(0,0,0,.12);margin-bottom:24px;`;\r\nconst Title = styled.h1`margin:0 0 18px;font-size:28px;background:linear-gradient(135deg,#ff6b8a,#4ecdc4);-webkit-background-clip:text;-webkit-text-fill-color:transparent;`;\r\nconst Row = styled.div`display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;`;\r\nconst CodeBox = styled.div`font-family:monospace;font-size:20px;letter-spacing:4px;padding:12px 16px;border:2px dashed #d5dbe1;border-radius:14px;user-select:all;background:#f5f7f9;`;\r\nconst Btn = styled.button`padding:12px 18px;border:none;border-radius:14px;font-weight:600;background:${p=>p.variant==='danger'?'#ff6b8a':'linear-gradient(135deg,#ff6b8a,#4ecdc4)'};color:#fff;cursor:pointer;`;\r\n\r\nexport default function Profile({onLogout}){\r\n  const [me,setMe]=useState(null); const [loading,setLoading]=useState(true);\r\n  useEffect(()=>{(async()=>{try{const r=await coupleService.me(); setMe(r);}finally{setLoading(false);}})();},[]);\r\n  if(loading) return <Wrap>Chargement…</Wrap>;\r\n  const partner = (me?.members||[]).length>1 ? me.members.find(m=>m.email !== (JSON.parse(localStorage.getItem('us_user')||'{}')?.email)) : null;\r\n  const inviteCode = me?.invite_code;\r\n  return <Wrap>\r\n    <Card>\r\n      <Title>Profil</Title>\r\n      <Row><strong>Vous</strong><span>{JSON.parse(localStorage.getItem('us_user')||'{}')?.name}</span></Row>\r\n      {partner && <Row><strong>Partenaire</strong><span>{partner.name}</span></Row>}\r\n      {!partner && inviteCode && <div style={{marginTop:16}}>\r\n        <div style={{fontSize:14,marginBottom:6}}>Code d'invitation à partager :</div>\r\n        <CodeBox>{inviteCode}</CodeBox>\r\n      </div>}\r\n      <div style={{marginTop:28,display:'flex',gap:12}}>\r\n        <Btn onClick={()=>{localStorage.removeItem('us_token');localStorage.removeItem('us_user');window.location.href='/'}}>Déconnexion</Btn>\r\n        <Btn variant=\"danger\" onClick={()=>{if(window.confirm('Se déconnecter ?')){localStorage.removeItem('us_token');localStorage.removeItem('us_user');window.location.href='/'}}}>Logout</Btn>\r\n      </div>\r\n    </Card>\r\n  </Wrap>;\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}