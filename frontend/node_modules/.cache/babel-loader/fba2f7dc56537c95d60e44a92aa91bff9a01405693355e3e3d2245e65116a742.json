{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sorbo\\\\US\\\\us-app\\\\frontend\\\\src\\\\pages\\\\OnboardingCouple.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport { coupleService } from '../services/authService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Wrapper = styled.div`max-width:860px;margin:40px auto;padding:24px;display:grid;gap:32px;grid-template-columns:repeat(auto-fit,minmax(340px,1fr));`;\n_c = Wrapper;\nconst Panel = styled.div`background:#fff;border-radius:28px;padding:32px 28px;box-shadow:0 12px 32px -8px rgba(0,0,0,0.12);position:relative;overflow:hidden;`;\n_c2 = Panel;\nconst Title = styled.h2`margin:0 0 6px;font-size:26px;font-weight:700;background:linear-gradient(135deg,#ff6b8a,#4ecdc4);-webkit-background-clip:text;-webkit-text-fill-color:transparent;`;\n_c3 = Title;\nconst Sub = styled.p`margin:0 0 20px;color:#555;font-size:14px;line-height:1.5;`;\n_c4 = Sub;\nconst CodeBox = styled.div`font-size:40px;font-weight:700;letter-spacing:6px;font-family:'Courier New',monospace;background:#f3f5f7;border:3px dashed #d6dce2;padding:22px 10px;text-align:center;border-radius:22px;user-select:all;`;\n_c5 = CodeBox;\nconst ButtonsRow = styled.div`display:flex;flex-wrap:wrap;gap:12px;margin-top:22px;`;\n_c6 = ButtonsRow;\nconst Btn = styled.button`flex:1;padding:14px 16px;border:none;border-radius:16px;font-weight:600;font-size:15px;cursor:pointer;background:${p => p.variant === 'secondary' ? '#eef1f5' : 'linear-gradient(135deg,#ff6b8a,#4ecdc4)'};color:${p => p.variant === 'secondary' ? '#333' : '#fff'};display:flex;align-items:center;justify-content:center;gap:6px;transition:transform .25s,box-shadow .25s;&:hover{transform:translateY(-2px);box-shadow:0 6px 18px rgba(0,0,0,0.18);} &:disabled{opacity:.55;cursor:not-allowed;transform:none;box-shadow:none;}`;\n_c7 = Btn;\nconst JoinForm = styled.form`display:flex;flex-direction:column;gap:18px;`;\n_c8 = JoinForm;\nconst Input = styled.input`padding:15px 18px;font-size:20px;letter-spacing:4px;text-transform:uppercase;text-align:center;border:2px solid #d9dee4;border-radius:18px;font-weight:600;outline:none;transition:border-color .25s,box-shadow .25s;background:#fff;&:focus{border-color:#ff6b8a;box-shadow:0 0 0 4px rgba(255,107,138,.25);} `;\n_c9 = Input;\nconst Alert = styled.div`margin-top:18px;padding:14px 18px;border-radius:16px;font-size:14px;font-weight:500;line-height:1.4;background:${p => p.type === 'error' ? '#ffe4e8' : p.type === 'success' ? '#e6fff5' : '#f1f4f8'};color:${p => p.type === 'error' ? '#b50024' : p.type === 'success' ? '#036245' : '#39424e'};`;\n_c0 = Alert;\nconst Small = styled.div`margin-top:10px;font-size:12px;color:#7a838c;text-align:center;`;\n_c1 = Small;\nexport default function OnboardingCouple() {\n  _s();\n  const [loadingCreate, setLoadingCreate] = useState(false);\n  const [loadingJoin, setLoadingJoin] = useState(false);\n  const [inviteCode, setInviteCode] = useState('');\n  const [existing, setExisting] = useState(false);\n  const [joinCode, setJoinCode] = useState('');\n  const [message, setMessage] = useState(null); // {type:'success'|'error'|'info', text:string}\n\n  // RÃ©cupÃ¨re code existant si dÃ©jÃ  crÃ©Ã© cotÃ© backend\n  useEffect(() => {\n    (async () => {\n      try {\n        const cm = await coupleService.me();\n        if (cm.invite_code) {\n          setInviteCode(cm.invite_code);\n          setExisting(true);\n        }\n        if (cm.in_couple) {\n          // dÃ©jÃ  en couple -> skip page\n          window.location.href = '/';\n        }\n      } catch {/* ignorÃ© */}\n    })();\n  }, []);\n  const createOrRefresh = async (refresh = false) => {\n    setMessage(null);\n    setLoadingCreate(true);\n    try {\n      let code = inviteCode;\n      if (!code || refresh) {\n        // create renvoie un code (dans notre backend logique: crÃ©e le couple si inexistant ou refresh invite)\n        const res = await coupleService.create();\n        code = res.invite_code || res.code || res.invite || '';\n      }\n      if (!code) throw new Error('Code indisponible');\n      setInviteCode(code);\n      setExisting(true);\n      setMessage({\n        type: 'success',\n        text: 'Code prÃªt ! Partage-le Ã  ton/ta partenaire.'\n      });\n    } catch (e) {\n      setMessage({\n        type: 'error',\n        text: \"Impossible de gÃ©nÃ©rer le code\"\n      });\n    }\n    setLoadingCreate(false);\n  };\n  const copy = () => {\n    if (!inviteCode) return;\n    navigator.clipboard.writeText(inviteCode).then(() => {\n      setMessage({\n        type: 'success',\n        text: 'Code copiÃ© dans le presse-papier'\n      });\n    });\n  };\n  const share = async () => {\n    if (!inviteCode) return;\n    const url = `${window.location.origin}/onboarding-couple?code=${inviteCode}`;\n    if (navigator.share) {\n      try {\n        await navigator.share({\n          title: 'Rejoins-moi ðŸ’ž',\n          text: `Code: ${inviteCode}`,\n          url\n        });\n      } catch {/* annulÃ© */}\n    } else {\n      navigator.clipboard.writeText(url);\n      setMessage({\n        type: 'success',\n        text: 'Lien copiÃ© (partage manuel)'\n      });\n    }\n  };\n  const handleJoin = async e => {\n    e.preventDefault();\n    setMessage(null);\n    setLoadingJoin(true);\n    try {\n      const code = joinCode.trim().toUpperCase();\n      if (code.length !== 6) throw new Error('Code invalide');\n      await coupleService.join(code);\n      setMessage({\n        type: 'success',\n        text: 'Câ€™est bon ! Redirection...'\n      });\n      setTimeout(() => window.location.href = '/', 800);\n    } catch (err) {\n      var _err$response, _err$response$data;\n      setMessage({\n        type: 'error',\n        text: ((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || 'Code invalide ou dÃ©jÃ  utilisÃ©'\n      });\n    }\n    setLoadingJoin(false);\n  };\n  return /*#__PURE__*/_jsxDEV(Wrapper, {\n    children: [/*#__PURE__*/_jsxDEV(Panel, {\n      children: [/*#__PURE__*/_jsxDEV(Title, {\n        children: \"Cr\\xE9er & partager\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Sub, {\n        children: \"G\\xE9n\\xE8re un code si tu es le premier. Envoie-le ou partage directement le lien.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), inviteCode ? /*#__PURE__*/_jsxDEV(CodeBox, {\n        children: inviteCode\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 23\n      }, this) : /*#__PURE__*/_jsxDEV(CodeBox, {\n        style: {\n          opacity: .4,\n          fontSize: 24,\n          letterSpacing: 2\n        },\n        children: \"AUCUN CODE\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 57\n      }, this), /*#__PURE__*/_jsxDEV(ButtonsRow, {\n        children: [/*#__PURE__*/_jsxDEV(Btn, {\n          type: \"button\",\n          onClick: () => createOrRefresh(false),\n          disabled: loadingCreate,\n          children: loadingCreate ? '...' : 'GÃ©nÃ©rer'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Btn, {\n          type: \"button\",\n          onClick: () => createOrRefresh(true),\n          variant: \"secondary\",\n          disabled: loadingCreate || !inviteCode,\n          children: \"Refresh\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Btn, {\n          type: \"button\",\n          onClick: copy,\n          variant: \"secondary\",\n          disabled: !inviteCode,\n          children: \"Copier\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Btn, {\n          type: \"button\",\n          onClick: share,\n          variant: \"secondary\",\n          disabled: !inviteCode,\n          children: \"Partager\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Small, {\n        children: \"Le code reste valide tant que vous n\\u2019\\xEAtes pas encore li\\xE9s.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Panel, {\n      children: [/*#__PURE__*/_jsxDEV(Title, {\n        children: \"Rejoindre\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Sub, {\n        children: \"Entre le code que ton/ta partenaire t\\u2019a envoy\\xE9 pour vous relier.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(JoinForm, {\n        onSubmit: handleJoin,\n        children: [/*#__PURE__*/_jsxDEV(Input, {\n          value: joinCode,\n          onChange: e => setJoinCode(e.target.value.toUpperCase()),\n          placeholder: \"CODE\",\n          maxLength: 6\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ButtonsRow, {\n          style: {\n            marginTop: 0\n          },\n          children: [/*#__PURE__*/_jsxDEV(Btn, {\n            type: \"submit\",\n            disabled: loadingJoin || joinCode.length !== 6,\n            children: loadingJoin ? '...' : 'Rejoindre'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Btn, {\n            type: \"button\",\n            variant: \"secondary\",\n            onClick: () => setJoinCode(''),\n            children: \"Effacer\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Small, {\n        children: \"Le code fait 6 caract\\xE8res (A\\u2011Z, 0\\u20119).\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this), message && /*#__PURE__*/_jsxDEV(Alert, {\n      type: message.type,\n      children: message.text\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 19\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 5\n  }, this);\n}\n_s(OnboardingCouple, \"vdVQLosoP+u8d91Zkk6I68wYwGg=\");\n_c10 = OnboardingCouple;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1, _c10;\n$RefreshReg$(_c, \"Wrapper\");\n$RefreshReg$(_c2, \"Panel\");\n$RefreshReg$(_c3, \"Title\");\n$RefreshReg$(_c4, \"Sub\");\n$RefreshReg$(_c5, \"CodeBox\");\n$RefreshReg$(_c6, \"ButtonsRow\");\n$RefreshReg$(_c7, \"Btn\");\n$RefreshReg$(_c8, \"JoinForm\");\n$RefreshReg$(_c9, \"Input\");\n$RefreshReg$(_c0, \"Alert\");\n$RefreshReg$(_c1, \"Small\");\n$RefreshReg$(_c10, \"OnboardingCouple\");","map":{"version":3,"names":["React","useEffect","useState","styled","coupleService","jsxDEV","_jsxDEV","Wrapper","div","_c","Panel","_c2","Title","h2","_c3","Sub","p","_c4","CodeBox","_c5","ButtonsRow","_c6","Btn","button","variant","_c7","JoinForm","form","_c8","Input","input","_c9","Alert","type","_c0","Small","_c1","OnboardingCouple","_s","loadingCreate","setLoadingCreate","loadingJoin","setLoadingJoin","inviteCode","setInviteCode","existing","setExisting","joinCode","setJoinCode","message","setMessage","cm","me","invite_code","in_couple","window","location","href","createOrRefresh","refresh","code","res","create","invite","Error","text","e","copy","navigator","clipboard","writeText","then","share","url","origin","title","handleJoin","preventDefault","trim","toUpperCase","length","join","setTimeout","err","_err$response","_err$response$data","response","data","children","fileName","_jsxFileName","lineNumber","columnNumber","style","opacity","fontSize","letterSpacing","onClick","disabled","onSubmit","value","onChange","target","placeholder","maxLength","marginTop","_c10","$RefreshReg$"],"sources":["C:/Users/sorbo/US/us-app/frontend/src/pages/OnboardingCouple.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport { coupleService } from '../services/authService';\r\n\r\nconst Wrapper = styled.div`max-width:860px;margin:40px auto;padding:24px;display:grid;gap:32px;grid-template-columns:repeat(auto-fit,minmax(340px,1fr));`;\r\nconst Panel = styled.div`background:#fff;border-radius:28px;padding:32px 28px;box-shadow:0 12px 32px -8px rgba(0,0,0,0.12);position:relative;overflow:hidden;`;\r\nconst Title = styled.h2`margin:0 0 6px;font-size:26px;font-weight:700;background:linear-gradient(135deg,#ff6b8a,#4ecdc4);-webkit-background-clip:text;-webkit-text-fill-color:transparent;`;\r\nconst Sub = styled.p`margin:0 0 20px;color:#555;font-size:14px;line-height:1.5;`;\r\nconst CodeBox = styled.div`font-size:40px;font-weight:700;letter-spacing:6px;font-family:'Courier New',monospace;background:#f3f5f7;border:3px dashed #d6dce2;padding:22px 10px;text-align:center;border-radius:22px;user-select:all;`;\r\nconst ButtonsRow = styled.div`display:flex;flex-wrap:wrap;gap:12px;margin-top:22px;`;\r\nconst Btn = styled.button`flex:1;padding:14px 16px;border:none;border-radius:16px;font-weight:600;font-size:15px;cursor:pointer;background:${p=>p.variant==='secondary'?'#eef1f5':'linear-gradient(135deg,#ff6b8a,#4ecdc4)'};color:${p=>p.variant==='secondary'?'#333':'#fff'};display:flex;align-items:center;justify-content:center;gap:6px;transition:transform .25s,box-shadow .25s;&:hover{transform:translateY(-2px);box-shadow:0 6px 18px rgba(0,0,0,0.18);} &:disabled{opacity:.55;cursor:not-allowed;transform:none;box-shadow:none;}`;\r\nconst JoinForm = styled.form`display:flex;flex-direction:column;gap:18px;`;\r\nconst Input = styled.input`padding:15px 18px;font-size:20px;letter-spacing:4px;text-transform:uppercase;text-align:center;border:2px solid #d9dee4;border-radius:18px;font-weight:600;outline:none;transition:border-color .25s,box-shadow .25s;background:#fff;&:focus{border-color:#ff6b8a;box-shadow:0 0 0 4px rgba(255,107,138,.25);} `;\r\nconst Alert = styled.div`margin-top:18px;padding:14px 18px;border-radius:16px;font-size:14px;font-weight:500;line-height:1.4;background:${p=>p.type==='error'?'#ffe4e8':p.type==='success'?'#e6fff5':'#f1f4f8'};color:${p=>p.type==='error'?'#b50024':p.type==='success'?'#036245':'#39424e'};`;\r\nconst Small = styled.div`margin-top:10px;font-size:12px;color:#7a838c;text-align:center;`;\r\n\r\nexport default function OnboardingCouple(){\r\n  const [loadingCreate,setLoadingCreate]=useState(false);\r\n  const [loadingJoin,setLoadingJoin]=useState(false);\r\n  const [inviteCode,setInviteCode]=useState('');\r\n  const [existing,setExisting]=useState(false);\r\n  const [joinCode,setJoinCode]=useState('');\r\n  const [message,setMessage]=useState(null); // {type:'success'|'error'|'info', text:string}\r\n\r\n  // RÃ©cupÃ¨re code existant si dÃ©jÃ  crÃ©Ã© cotÃ© backend\r\n  useEffect(()=>{(async()=>{try{const cm=await coupleService.me(); if(cm.invite_code){setInviteCode(cm.invite_code);setExisting(true);} if(cm.in_couple){ // dÃ©jÃ  en couple -> skip page\r\n      window.location.href='/';\r\n    }}catch{/* ignorÃ© */}})();},[]);\r\n\r\n  const createOrRefresh=async(refresh=false)=>{\r\n    setMessage(null);setLoadingCreate(true);\r\n    try{\r\n      let code=inviteCode;\r\n      if(!code || refresh){\r\n        // create renvoie un code (dans notre backend logique: crÃ©e le couple si inexistant ou refresh invite)\r\n        const res=await coupleService.create();\r\n        code=res.invite_code || res.code || res.invite || '';\r\n      }\r\n      if(!code) throw new Error('Code indisponible');\r\n      setInviteCode(code);\r\n      setExisting(true);\r\n      setMessage({type:'success',text:'Code prÃªt ! Partage-le Ã  ton/ta partenaire.'});\r\n    }catch(e){\r\n      setMessage({type:'error',text:\"Impossible de gÃ©nÃ©rer le code\"});\r\n    }\r\n    setLoadingCreate(false);\r\n  };\r\n\r\n  const copy=()=>{\r\n    if(!inviteCode) return;\r\n    navigator.clipboard.writeText(inviteCode).then(()=>{\r\n      setMessage({type:'success',text:'Code copiÃ© dans le presse-papier'});\r\n    });\r\n  };\r\n\r\n  const share=async()=>{\r\n    if(!inviteCode) return;\r\n    const url=`${window.location.origin}/onboarding-couple?code=${inviteCode}`;\r\n    if(navigator.share){\r\n      try{await navigator.share({title:'Rejoins-moi ðŸ’ž',text:`Code: ${inviteCode}`,url});}catch{/* annulÃ© */}\r\n    }else{\r\n      navigator.clipboard.writeText(url);setMessage({type:'success',text:'Lien copiÃ© (partage manuel)'});\r\n    }\r\n  };\r\n\r\n  const handleJoin=async(e)=>{\r\n    e.preventDefault();\r\n    setMessage(null);setLoadingJoin(true);\r\n    try{\r\n      const code=joinCode.trim().toUpperCase();\r\n      if(code.length!==6) throw new Error('Code invalide');\r\n      await coupleService.join(code);\r\n      setMessage({type:'success',text:'Câ€™est bon ! Redirection...'});\r\n      setTimeout(()=>window.location.href='/',800);\r\n    }catch(err){\r\n      setMessage({type:'error',text:err.response?.data?.message||'Code invalide ou dÃ©jÃ  utilisÃ©'});\r\n    }\r\n    setLoadingJoin(false);\r\n  };\r\n\r\n  return (\r\n    <Wrapper>\r\n      {/* Panneau CrÃ©ation / Partage */}\r\n      <Panel>\r\n        <Title>CrÃ©er & partager</Title>\r\n        <Sub>GÃ©nÃ¨re un code si tu es le premier. Envoie-le ou partage directement le lien.</Sub>\r\n        {inviteCode ? <CodeBox>{inviteCode}</CodeBox> : <CodeBox style={{opacity:.4,fontSize:24,letterSpacing:2}}>AUCUN CODE</CodeBox>}\r\n        <ButtonsRow>\r\n          <Btn type=\"button\" onClick={()=>createOrRefresh(false)} disabled={loadingCreate}>{loadingCreate? '...':'GÃ©nÃ©rer'}</Btn>\r\n          <Btn type=\"button\" onClick={()=>createOrRefresh(true)} variant=\"secondary\" disabled={loadingCreate || !inviteCode}>Refresh</Btn>\r\n          <Btn type=\"button\" onClick={copy} variant=\"secondary\" disabled={!inviteCode}>Copier</Btn>\r\n          <Btn type=\"button\" onClick={share} variant=\"secondary\" disabled={!inviteCode}>Partager</Btn>\r\n        </ButtonsRow>\r\n        <Small>Le code reste valide tant que vous nâ€™Ãªtes pas encore liÃ©s.</Small>\r\n      </Panel>\r\n\r\n      {/* Panneau Rejoindre */}\r\n      <Panel>\r\n        <Title>Rejoindre</Title>\r\n        <Sub>Entre le code que ton/ta partenaire tâ€™a envoyÃ© pour vous relier.</Sub>\r\n        <JoinForm onSubmit={handleJoin}>\r\n          <Input value={joinCode} onChange={e=>setJoinCode(e.target.value.toUpperCase())} placeholder=\"CODE\" maxLength={6} />\r\n          <ButtonsRow style={{marginTop:0}}>\r\n            <Btn type=\"submit\" disabled={loadingJoin || joinCode.length!==6}>{loadingJoin? '...' : 'Rejoindre'}</Btn>\r\n            <Btn type=\"button\" variant=\"secondary\" onClick={()=>setJoinCode('')}>Effacer</Btn>\r\n          </ButtonsRow>\r\n        </JoinForm>\r\n        <Small>Le code fait 6 caractÃ¨res (Aâ€‘Z, 0â€‘9).</Small>\r\n      </Panel>\r\n\r\n      {message && <Alert type={message.type}>{message.text}</Alert>}\r\n    </Wrapper>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}