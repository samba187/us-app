{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sorbo\\\\US\\\\us-app\\\\frontend\\\\src\\\\pages\\\\Photos.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { FiPlus, FiCamera, FiHeart, FiMessageCircle } from 'react-icons/fi';\nimport { photoService } from '../services/authService';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst PhotosContainer = styled.div`\n  padding: 20px;\n  padding-bottom: 120px;\n`;\n_c = PhotosContainer;\nconst Header = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 30px;\n`;\n_c2 = Header;\nconst Title = styled.h1`\n  font-size: 28px;\n  font-weight: 700;\n  color: var(--text-color);\n`;\n_c3 = Title;\nconst AddButton = styled.button`\n  background: linear-gradient(135deg, #ff6b8a, #4ecdc4);\n  color: white;\n  border: none;\n  padding: 12px 20px;\n  border-radius: 12px;\n  font-weight: 600;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n`;\n_c4 = AddButton;\nconst PhotoGrid = styled.div`\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  gap: 15px;\n`;\n_c5 = PhotoGrid;\nconst PhotoCard = styled.div`\n  background: white;\n  border-radius: 16px;\n  box-shadow: var(--shadow);\n  overflow: hidden;\n  cursor: pointer;\n  transition: transform 0.3s ease;\n\n  &:hover {\n    transform: translateY(-2px);\n  }\n`;\n_c6 = PhotoCard;\nconst PhotoImage = styled.div`\n  height: 150px;\n  background: ${props => props.image ? `url(${props.image})` : 'linear-gradient(135deg, #ff6b8a, #4ecdc4)'};\n  background-size: cover;\n  background-position: center;\n  position: relative;\n`;\n_c7 = PhotoImage;\nconst PhotoOverlay = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.3);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  opacity: 0;\n  transition: opacity 0.3s ease;\n\n  ${PhotoCard}:hover & {\n    opacity: 1;\n  }\n`;\n_c8 = PhotoOverlay;\nconst PhotoIcon = styled.div`\n  color: white;\n  font-size: 24px;\n`;\n_c9 = PhotoIcon;\nconst PhotoCaption = styled.div`\n  padding: 15px;\n`;\n_c0 = PhotoCaption;\nconst CaptionText = styled.p`\n  font-size: 14px;\n  color: var(--text-color);\n  line-height: 1.4;\n  margin-bottom: 10px;\n`;\n_c1 = CaptionText;\nconst PhotoMeta = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  font-size: 12px;\n  color: var(--text-light);\n`;\n_c10 = PhotoMeta;\nconst PhotoDate = styled.span`\n  display: flex;\n  align-items: center;\n  gap: 5px;\n`;\n_c11 = PhotoDate;\nconst PhotoActions = styled.div`\n  display: flex;\n  gap: 10px;\n`;\n_c12 = PhotoActions;\nconst ActionIcon = styled.button`\n  background: none;\n  border: none;\n  color: var(--text-light);\n  cursor: pointer;\n  padding: 4px;\n  border-radius: 4px;\n  transition: color 0.3s ease;\n\n  &:hover {\n    color: var(--primary-color);\n  }\n`;\n_c13 = ActionIcon;\nconst Modal = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.9);\n  display: ${props => props.show ? 'flex' : 'none'};\n  align-items: center;\n  justify-content: center;\n  z-index: 2000;\n  padding: 20px;\n`;\n_c14 = Modal;\nconst ModalImage = styled.img`\n  max-width: 100%;\n  max-height: 80vh;\n  border-radius: 12px;\n`;\n_c15 = ModalImage;\nconst ModalClose = styled.button`\n  position: absolute;\n  top: 20px;\n  right: 20px;\n  background: rgba(255, 255, 255, 0.9);\n  border: none;\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n  cursor: pointer;\n  font-size: 20px;\n`;\n_c16 = ModalClose;\nconst EmptyState = styled.div`\n  grid-column: 1 / -1;\n  text-align: center;\n  padding: 60px 20px;\n  color: var(--text-light);\n`;\n_c17 = EmptyState;\nconst EmptyIcon = styled.div`\n  font-size: 64px;\n  margin-bottom: 20px;\n  opacity: 0.3;\n`;\n_c18 = EmptyIcon;\nconst AddModal = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  display: ${props => props.show ? 'flex' : 'none'};\n  align-items: center;\n  justify-content: center;\n  z-index: 2000;\n  padding: 20px;\n`;\n_c19 = AddModal;\nconst ModalContent = styled.div`\n  background: white;\n  border-radius: 20px;\n  padding: 30px;\n  width: 100%;\n  max-width: 400px;\n  max-height: 80vh;\n  overflow-y: auto;\n`;\n_c20 = ModalContent;\nconst ModalTitle = styled.h2`\n  margin-bottom: 20px;\n  color: var(--text-color);\n`;\n_c21 = ModalTitle;\nconst Form = styled.form`\n  display: flex;\n  flex-direction: column;\n  gap: 15px;\n`;\n_c22 = Form;\nconst Input = styled.input`\n  padding: 12px;\n  border: 2px solid var(--border-color);\n  border-radius: 8px;\n  font-size: 16px;\n\n  &:focus {\n    outline: none;\n    border-color: var(--primary-color);\n  }\n`;\n_c23 = Input;\nconst FileInput = styled.input`\n  padding: 12px;\n  border: 2px solid var(--border-color);\n  border-radius: 8px;\n  font-size: 16px;\n\n  &:focus {\n    outline: none;\n    border-color: var(--primary-color);\n  }\n`;\n_c24 = FileInput;\nconst FormButtons = styled.div`\n  display: flex;\n  gap: 10px;\n  margin-top: 20px;\n`;\n_c25 = FormButtons;\nconst Button = styled.button`\n  flex: 1;\n  padding: 12px;\n  border-radius: 8px;\n  font-weight: 600;\n  cursor: pointer;\n  border: none;\n`;\nconst PrimaryButton = styled(Button)`\n  background: linear-gradient(135deg, #ff6b8a, #4ecdc4);\n  color: white;\n`;\n_c26 = PrimaryButton;\nconst SecondaryButton = styled(Button)`\n  background: var(--border-color);\n  color: var(--text-color);\n`;\n_c27 = SecondaryButton;\nfunction Photos() {\n  _s();\n  const [photos, setPhotos] = useState([]);\n  const [selectedPhoto, setSelectedPhoto] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [showAddModal, setShowAddModal] = useState(false);\n  const [formData, setFormData] = useState({\n    caption: '',\n    album_id: '',\n    files: null\n  });\n  const [albums, setAlbums] = useState([]);\n  const [currentAlbum, setCurrentAlbum] = useState('all');\n  const [showAlbumModal, setShowAlbumModal] = useState(false);\n  const [newAlbumName, setNewAlbumName] = useState('');\n  useEffect(() => {\n    loadPhotos();\n    loadAlbums();\n  }, []);\n  const loadPhotos = async () => {\n    try {\n      const data = await photoService.getAll();\n      setPhotos(data);\n    } catch (error) {\n      console.error('Erreur lors du chargement des photos:', error);\n    }\n    setLoading(false);\n  };\n  const loadAlbums = async () => {\n    try {\n      const data = await photoService.getAll();\n      const albumsSet = new Set();\n      data.forEach(photo => {\n        if (photo.album_id) albumsSet.add(photo.album_id);\n      });\n      setAlbums([...albumsSet]);\n    } catch (error) {\n      console.error('Erreur albums:', error);\n    }\n  };\n  const formatDate = dateString => {\n    const date = new Date(dateString);\n    return date.toLocaleDateString('fr-FR', {\n      day: 'numeric',\n      month: 'short',\n      year: 'numeric'\n    });\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!formData.files || formData.files.length === 0) {\n      alert('Veuillez s√©lectionner au moins une photo');\n      return;\n    }\n    try {\n      const uploadData = new FormData();\n      for (let file of formData.files) {\n        uploadData.append('files', file);\n      }\n      uploadData.append('caption', formData.caption);\n      if (formData.album_id) uploadData.append('album_id', formData.album_id);\n      const response = await fetch('/api/photos', {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('us_token')}`\n        },\n        body: uploadData\n      });\n      if (response.ok) {\n        setShowAddModal(false);\n        setFormData({\n          caption: '',\n          album_id: '',\n          files: null\n        });\n        loadPhotos();\n        loadAlbums();\n      }\n    } catch (error) {\n      console.error('Erreur upload:', error);\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(PhotosContainer, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: 'center',\n          marginTop: '50px'\n        },\n        children: \"Chargement des photos...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 349,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(PhotosContainer, {\n    className: \"fade-in\",\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      children: [/*#__PURE__*/_jsxDEV(Title, {\n        children: \"Photos\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 360,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AddButton, {\n        onClick: () => setShowAddModal(true),\n        children: [/*#__PURE__*/_jsxDEV(FiPlus, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 11\n        }, this), \" Ajouter\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 361,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 359,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(PhotoGrid, {\n      children: photos.length > 0 ? photos.map(photo => /*#__PURE__*/_jsxDEV(PhotoCard, {\n        onClick: () => setSelectedPhoto(photo),\n        children: [/*#__PURE__*/_jsxDEV(PhotoImage, {\n          image: photo.url,\n          children: /*#__PURE__*/_jsxDEV(PhotoOverlay, {\n            children: /*#__PURE__*/_jsxDEV(PhotoIcon, {\n              children: /*#__PURE__*/_jsxDEV(FiCamera, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 373,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 372,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 371,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 15\n        }, this), photo.caption && /*#__PURE__*/_jsxDEV(PhotoCaption, {\n          children: [/*#__PURE__*/_jsxDEV(CaptionText, {\n            children: photo.caption\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 380,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(PhotoMeta, {\n            children: [/*#__PURE__*/_jsxDEV(PhotoDate, {\n              children: [\"\\uD83D\\uDCC5 \", formatDate(photo.uploaded_at)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 382,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(PhotoActions, {\n              children: [/*#__PURE__*/_jsxDEV(ActionIcon, {\n                title: \"J'aime\",\n                children: /*#__PURE__*/_jsxDEV(FiHeart, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 387,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 386,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(ActionIcon, {\n                title: \"Commenter\",\n                children: /*#__PURE__*/_jsxDEV(FiMessageCircle, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 390,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 389,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 385,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 381,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 379,\n          columnNumber: 17\n        }, this)]\n      }, photo._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 369,\n        columnNumber: 13\n      }, this)) : /*#__PURE__*/_jsxDEV(EmptyState, {\n        children: [/*#__PURE__*/_jsxDEV(EmptyIcon, {\n          children: \"\\uD83D\\uDCF8\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Aucune photo pour le moment\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 401,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            fontSize: '14px',\n            marginTop: '10px'\n          },\n          children: \"Commencez \\xE0 cr\\xE9er vos souvenirs ensemble ! \\u2764\\uFE0F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 402,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 399,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      show: selectedPhoto,\n      onClick: () => setSelectedPhoto(null),\n      children: selectedPhoto && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(ModalClose, {\n          onClick: () => setSelectedPhoto(null),\n          children: \"\\xD7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 412,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(ModalImage, {\n          src: selectedPhoto.url,\n          alt: selectedPhoto.caption,\n          onClick: e => e.stopPropagation()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 413,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 409,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AddModal, {\n      show: showAddModal,\n      onClick: () => setShowAddModal(false),\n      children: /*#__PURE__*/_jsxDEV(ModalContent, {\n        onClick: e => e.stopPropagation(),\n        children: [/*#__PURE__*/_jsxDEV(ModalTitle, {\n          children: \"Ajouter des photos\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 424,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form, {\n          onSubmit: handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(Input, {\n            type: \"text\",\n            placeholder: \"L\\xE9gende (optionnel)\",\n            value: formData.caption,\n            onChange: e => setFormData({\n              ...formData,\n              caption: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 426,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FileInput, {\n            type: \"file\",\n            multiple: true,\n            accept: \"image/*\",\n            onChange: e => setFormData({\n              ...formData,\n              files: e.target.files\n            }),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 433,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FormButtons, {\n            children: [/*#__PURE__*/_jsxDEV(SecondaryButton, {\n              type: \"button\",\n              onClick: () => setShowAddModal(false),\n              children: \"Annuler\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 442,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(PrimaryButton, {\n              type: \"submit\",\n              children: \"Ajouter\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 445,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 441,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 425,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 423,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 422,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 358,\n    columnNumber: 5\n  }, this);\n}\n_s(Photos, \"IfWWhttjUPxsdV3DFSz1k2MUAXs=\");\n_c28 = Photos;\nexport default Photos;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1, _c10, _c11, _c12, _c13, _c14, _c15, _c16, _c17, _c18, _c19, _c20, _c21, _c22, _c23, _c24, _c25, _c26, _c27, _c28;\n$RefreshReg$(_c, \"PhotosContainer\");\n$RefreshReg$(_c2, \"Header\");\n$RefreshReg$(_c3, \"Title\");\n$RefreshReg$(_c4, \"AddButton\");\n$RefreshReg$(_c5, \"PhotoGrid\");\n$RefreshReg$(_c6, \"PhotoCard\");\n$RefreshReg$(_c7, \"PhotoImage\");\n$RefreshReg$(_c8, \"PhotoOverlay\");\n$RefreshReg$(_c9, \"PhotoIcon\");\n$RefreshReg$(_c0, \"PhotoCaption\");\n$RefreshReg$(_c1, \"CaptionText\");\n$RefreshReg$(_c10, \"PhotoMeta\");\n$RefreshReg$(_c11, \"PhotoDate\");\n$RefreshReg$(_c12, \"PhotoActions\");\n$RefreshReg$(_c13, \"ActionIcon\");\n$RefreshReg$(_c14, \"Modal\");\n$RefreshReg$(_c15, \"ModalImage\");\n$RefreshReg$(_c16, \"ModalClose\");\n$RefreshReg$(_c17, \"EmptyState\");\n$RefreshReg$(_c18, \"EmptyIcon\");\n$RefreshReg$(_c19, \"AddModal\");\n$RefreshReg$(_c20, \"ModalContent\");\n$RefreshReg$(_c21, \"ModalTitle\");\n$RefreshReg$(_c22, \"Form\");\n$RefreshReg$(_c23, \"Input\");\n$RefreshReg$(_c24, \"FileInput\");\n$RefreshReg$(_c25, \"FormButtons\");\n$RefreshReg$(_c26, \"PrimaryButton\");\n$RefreshReg$(_c27, \"SecondaryButton\");\n$RefreshReg$(_c28, \"Photos\");","map":{"version":3,"names":["React","useState","useEffect","styled","FiPlus","FiCamera","FiHeart","FiMessageCircle","photoService","jsxDEV","_jsxDEV","Fragment","_Fragment","PhotosContainer","div","_c","Header","_c2","Title","h1","_c3","AddButton","button","_c4","PhotoGrid","_c5","PhotoCard","_c6","PhotoImage","props","image","_c7","PhotoOverlay","_c8","PhotoIcon","_c9","PhotoCaption","_c0","CaptionText","p","_c1","PhotoMeta","_c10","PhotoDate","span","_c11","PhotoActions","_c12","ActionIcon","_c13","Modal","show","_c14","ModalImage","img","_c15","ModalClose","_c16","EmptyState","_c17","EmptyIcon","_c18","AddModal","_c19","ModalContent","_c20","ModalTitle","h2","_c21","Form","form","_c22","Input","input","_c23","FileInput","_c24","FormButtons","_c25","Button","PrimaryButton","_c26","SecondaryButton","_c27","Photos","_s","photos","setPhotos","selectedPhoto","setSelectedPhoto","loading","setLoading","showAddModal","setShowAddModal","formData","setFormData","caption","album_id","files","albums","setAlbums","currentAlbum","setCurrentAlbum","showAlbumModal","setShowAlbumModal","newAlbumName","setNewAlbumName","loadPhotos","loadAlbums","data","getAll","error","console","albumsSet","Set","forEach","photo","add","formatDate","dateString","date","Date","toLocaleDateString","day","month","year","handleSubmit","e","preventDefault","length","alert","uploadData","FormData","file","append","response","fetch","method","headers","localStorage","getItem","body","ok","children","style","textAlign","marginTop","fileName","_jsxFileName","lineNumber","columnNumber","className","onClick","map","url","uploaded_at","title","_id","fontSize","src","alt","stopPropagation","onSubmit","type","placeholder","value","onChange","target","multiple","accept","required","_c28","$RefreshReg$"],"sources":["C:/Users/sorbo/US/us-app/frontend/src/pages/Photos.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport styled from 'styled-components';\r\nimport { FiPlus, FiCamera, FiHeart, FiMessageCircle } from 'react-icons/fi';\r\nimport { photoService } from '../services/authService';\r\n\r\nconst PhotosContainer = styled.div`\r\n  padding: 20px;\r\n  padding-bottom: 120px;\r\n`;\r\n\r\nconst Header = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 30px;\r\n`;\r\n\r\nconst Title = styled.h1`\r\n  font-size: 28px;\r\n  font-weight: 700;\r\n  color: var(--text-color);\r\n`;\r\n\r\nconst AddButton = styled.button`\r\n  background: linear-gradient(135deg, #ff6b8a, #4ecdc4);\r\n  color: white;\r\n  border: none;\r\n  padding: 12px 20px;\r\n  border-radius: 12px;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n`;\r\n\r\nconst PhotoGrid = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(2, 1fr);\r\n  gap: 15px;\r\n`;\r\n\r\nconst PhotoCard = styled.div`\r\n  background: white;\r\n  border-radius: 16px;\r\n  box-shadow: var(--shadow);\r\n  overflow: hidden;\r\n  cursor: pointer;\r\n  transition: transform 0.3s ease;\r\n\r\n  &:hover {\r\n    transform: translateY(-2px);\r\n  }\r\n`;\r\n\r\nconst PhotoImage = styled.div`\r\n  height: 150px;\r\n  background: ${props => props.image ? `url(${props.image})` : 'linear-gradient(135deg, #ff6b8a, #4ecdc4)'};\r\n  background-size: cover;\r\n  background-position: center;\r\n  position: relative;\r\n`;\r\n\r\nconst PhotoOverlay = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: rgba(0, 0, 0, 0.3);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  opacity: 0;\r\n  transition: opacity 0.3s ease;\r\n\r\n  ${PhotoCard}:hover & {\r\n    opacity: 1;\r\n  }\r\n`;\r\n\r\nconst PhotoIcon = styled.div`\r\n  color: white;\r\n  font-size: 24px;\r\n`;\r\n\r\nconst PhotoCaption = styled.div`\r\n  padding: 15px;\r\n`;\r\n\r\nconst CaptionText = styled.p`\r\n  font-size: 14px;\r\n  color: var(--text-color);\r\n  line-height: 1.4;\r\n  margin-bottom: 10px;\r\n`;\r\n\r\nconst PhotoMeta = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  font-size: 12px;\r\n  color: var(--text-light);\r\n`;\r\n\r\nconst PhotoDate = styled.span`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 5px;\r\n`;\r\n\r\nconst PhotoActions = styled.div`\r\n  display: flex;\r\n  gap: 10px;\r\n`;\r\n\r\nconst ActionIcon = styled.button`\r\n  background: none;\r\n  border: none;\r\n  color: var(--text-light);\r\n  cursor: pointer;\r\n  padding: 4px;\r\n  border-radius: 4px;\r\n  transition: color 0.3s ease;\r\n\r\n  &:hover {\r\n    color: var(--primary-color);\r\n  }\r\n`;\r\n\r\nconst Modal = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: rgba(0, 0, 0, 0.9);\r\n  display: ${props => props.show ? 'flex' : 'none'};\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: 2000;\r\n  padding: 20px;\r\n`;\r\n\r\nconst ModalImage = styled.img`\r\n  max-width: 100%;\r\n  max-height: 80vh;\r\n  border-radius: 12px;\r\n`;\r\n\r\nconst ModalClose = styled.button`\r\n  position: absolute;\r\n  top: 20px;\r\n  right: 20px;\r\n  background: rgba(255, 255, 255, 0.9);\r\n  border: none;\r\n  width: 40px;\r\n  height: 40px;\r\n  border-radius: 50%;\r\n  cursor: pointer;\r\n  font-size: 20px;\r\n`;\r\n\r\nconst EmptyState = styled.div`\r\n  grid-column: 1 / -1;\r\n  text-align: center;\r\n  padding: 60px 20px;\r\n  color: var(--text-light);\r\n`;\r\n\r\nconst EmptyIcon = styled.div`\r\n  font-size: 64px;\r\n  margin-bottom: 20px;\r\n  opacity: 0.3;\r\n`;\r\n\r\nconst AddModal = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: rgba(0, 0, 0, 0.5);\r\n  display: ${props => props.show ? 'flex' : 'none'};\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: 2000;\r\n  padding: 20px;\r\n`;\r\n\r\nconst ModalContent = styled.div`\r\n  background: white;\r\n  border-radius: 20px;\r\n  padding: 30px;\r\n  width: 100%;\r\n  max-width: 400px;\r\n  max-height: 80vh;\r\n  overflow-y: auto;\r\n`;\r\n\r\nconst ModalTitle = styled.h2`\r\n  margin-bottom: 20px;\r\n  color: var(--text-color);\r\n`;\r\n\r\nconst Form = styled.form`\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 15px;\r\n`;\r\n\r\nconst Input = styled.input`\r\n  padding: 12px;\r\n  border: 2px solid var(--border-color);\r\n  border-radius: 8px;\r\n  font-size: 16px;\r\n\r\n  &:focus {\r\n    outline: none;\r\n    border-color: var(--primary-color);\r\n  }\r\n`;\r\n\r\nconst FileInput = styled.input`\r\n  padding: 12px;\r\n  border: 2px solid var(--border-color);\r\n  border-radius: 8px;\r\n  font-size: 16px;\r\n\r\n  &:focus {\r\n    outline: none;\r\n    border-color: var(--primary-color);\r\n  }\r\n`;\r\n\r\nconst FormButtons = styled.div`\r\n  display: flex;\r\n  gap: 10px;\r\n  margin-top: 20px;\r\n`;\r\n\r\nconst Button = styled.button`\r\n  flex: 1;\r\n  padding: 12px;\r\n  border-radius: 8px;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  border: none;\r\n`;\r\n\r\nconst PrimaryButton = styled(Button)`\r\n  background: linear-gradient(135deg, #ff6b8a, #4ecdc4);\r\n  color: white;\r\n`;\r\n\r\nconst SecondaryButton = styled(Button)`\r\n  background: var(--border-color);\r\n  color: var(--text-color);\r\n`;\r\n\r\nfunction Photos() {\r\n  const [photos, setPhotos] = useState([]);\r\n  const [selectedPhoto, setSelectedPhoto] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [showAddModal, setShowAddModal] = useState(false);\r\n  const [formData, setFormData] = useState({\r\n    caption: '',\r\n    album_id: '',\r\n    files: null\r\n  });\r\n  const [albums, setAlbums] = useState([]);\r\n  const [currentAlbum, setCurrentAlbum] = useState('all');\r\n  const [showAlbumModal, setShowAlbumModal] = useState(false);\r\n  const [newAlbumName, setNewAlbumName] = useState('');\r\n\r\n  useEffect(() => {\r\n    loadPhotos();\r\n    loadAlbums();\r\n  }, []);\r\n\r\n  const loadPhotos = async () => {\r\n    try {\r\n      const data = await photoService.getAll();\r\n      setPhotos(data);\r\n    } catch (error) {\r\n      console.error('Erreur lors du chargement des photos:', error);\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  const loadAlbums = async () => {\r\n    try {\r\n      const data = await photoService.getAll();\r\n      const albumsSet = new Set();\r\n      data.forEach(photo => {\r\n        if (photo.album_id) albumsSet.add(photo.album_id);\r\n      });\r\n      setAlbums([...albumsSet]);\r\n    } catch (error) {\r\n      console.error('Erreur albums:', error);\r\n    }\r\n  };\r\n\r\n  const formatDate = (dateString) => {\r\n    const date = new Date(dateString);\r\n    return date.toLocaleDateString('fr-FR', {\r\n      day: 'numeric',\r\n      month: 'short',\r\n      year: 'numeric'\r\n    });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (!formData.files || formData.files.length === 0) {\r\n      alert('Veuillez s√©lectionner au moins une photo');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const uploadData = new FormData();\r\n      for (let file of formData.files) {\r\n        uploadData.append('files', file);\r\n      }\r\n      uploadData.append('caption', formData.caption);\r\n      if (formData.album_id) uploadData.append('album_id', formData.album_id);\r\n\r\n      const response = await fetch('/api/photos', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Authorization': `Bearer ${localStorage.getItem('us_token')}`\r\n        },\r\n        body: uploadData\r\n      });\r\n\r\n      if (response.ok) {\r\n        setShowAddModal(false);\r\n        setFormData({ caption: '', album_id: '', files: null });\r\n        loadPhotos();\r\n        loadAlbums();\r\n      }\r\n    } catch (error) {\r\n      console.error('Erreur upload:', error);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <PhotosContainer>\r\n        <div style={{ textAlign: 'center', marginTop: '50px' }}>\r\n          Chargement des photos...\r\n        </div>\r\n      </PhotosContainer>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <PhotosContainer className=\"fade-in\">\r\n      <Header>\r\n        <Title>Photos</Title>\r\n        <AddButton onClick={() => setShowAddModal(true)}>\r\n          <FiPlus /> Ajouter\r\n        </AddButton>\r\n      </Header>\r\n\r\n      <PhotoGrid>\r\n        {photos.length > 0 ? (\r\n          photos.map((photo) => (\r\n            <PhotoCard key={photo._id} onClick={() => setSelectedPhoto(photo)}>\r\n              <PhotoImage image={photo.url}>\r\n                <PhotoOverlay>\r\n                  <PhotoIcon>\r\n                    <FiCamera />\r\n                  </PhotoIcon>\r\n                </PhotoOverlay>\r\n              </PhotoImage>\r\n              \r\n              {photo.caption && (\r\n                <PhotoCaption>\r\n                  <CaptionText>{photo.caption}</CaptionText>\r\n                  <PhotoMeta>\r\n                    <PhotoDate>\r\n                      üìÖ {formatDate(photo.uploaded_at)}\r\n                    </PhotoDate>\r\n                    <PhotoActions>\r\n                      <ActionIcon title=\"J'aime\">\r\n                        <FiHeart />\r\n                      </ActionIcon>\r\n                      <ActionIcon title=\"Commenter\">\r\n                        <FiMessageCircle />\r\n                      </ActionIcon>\r\n                    </PhotoActions>\r\n                  </PhotoMeta>\r\n                </PhotoCaption>\r\n              )}\r\n            </PhotoCard>\r\n          ))\r\n        ) : (\r\n          <EmptyState>\r\n            <EmptyIcon>üì∏</EmptyIcon>\r\n            <h3>Aucune photo pour le moment</h3>\r\n            <p style={{ fontSize: '14px', marginTop: '10px' }}>\r\n              Commencez √† cr√©er vos souvenirs ensemble ! ‚ù§Ô∏è\r\n            </p>\r\n          </EmptyState>\r\n        )}\r\n      </PhotoGrid>\r\n\r\n      <Modal show={selectedPhoto} onClick={() => setSelectedPhoto(null)}>\r\n        {selectedPhoto && (\r\n          <>\r\n            <ModalClose onClick={() => setSelectedPhoto(null)}>√ó</ModalClose>\r\n            <ModalImage \r\n              src={selectedPhoto.url} \r\n              alt={selectedPhoto.caption}\r\n              onClick={(e) => e.stopPropagation()}\r\n            />\r\n          </>\r\n        )}\r\n      </Modal>\r\n\r\n      <AddModal show={showAddModal} onClick={() => setShowAddModal(false)}>\r\n        <ModalContent onClick={(e) => e.stopPropagation()}>\r\n          <ModalTitle>Ajouter des photos</ModalTitle>\r\n          <Form onSubmit={handleSubmit}>\r\n            <Input\r\n              type=\"text\"\r\n              placeholder=\"L√©gende (optionnel)\"\r\n              value={formData.caption}\r\n              onChange={(e) => setFormData({...formData, caption: e.target.value})}\r\n            />\r\n            \r\n            <FileInput\r\n              type=\"file\"\r\n              multiple\r\n              accept=\"image/*\"\r\n              onChange={(e) => setFormData({...formData, files: e.target.files})}\r\n              required\r\n            />\r\n            \r\n            <FormButtons>\r\n              <SecondaryButton type=\"button\" onClick={() => setShowAddModal(false)}>\r\n                Annuler\r\n              </SecondaryButton>\r\n              <PrimaryButton type=\"submit\">\r\n                Ajouter\r\n              </PrimaryButton>\r\n            </FormButtons>\r\n          </Form>\r\n        </ModalContent>\r\n      </AddModal>\r\n    </PhotosContainer>\r\n  );\r\n}\r\n\r\nexport default Photos;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,MAAM,MAAM,mBAAmB;AACtC,SAASC,MAAM,EAAEC,QAAQ,EAAEC,OAAO,EAAEC,eAAe,QAAQ,gBAAgB;AAC3E,SAASC,YAAY,QAAQ,yBAAyB;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAEvD,MAAMC,eAAe,GAAGV,MAAM,CAACW,GAAG;AAClC;AACA;AACA,CAAC;AAACC,EAAA,GAHIF,eAAe;AAKrB,MAAMG,MAAM,GAAGb,MAAM,CAACW,GAAG;AACzB;AACA;AACA;AACA;AACA,CAAC;AAACG,GAAA,GALID,MAAM;AAOZ,MAAME,KAAK,GAAGf,MAAM,CAACgB,EAAE;AACvB;AACA;AACA;AACA,CAAC;AAACC,GAAA,GAJIF,KAAK;AAMX,MAAMG,SAAS,GAAGlB,MAAM,CAACmB,MAAM;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,GAAA,GAXIF,SAAS;AAaf,MAAMG,SAAS,GAAGrB,MAAM,CAACW,GAAG;AAC5B;AACA;AACA;AACA,CAAC;AAACW,GAAA,GAJID,SAAS;AAMf,MAAME,SAAS,GAAGvB,MAAM,CAACW,GAAG;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACa,GAAA,GAXID,SAAS;AAaf,MAAME,UAAU,GAAGzB,MAAM,CAACW,GAAG;AAC7B;AACA,gBAAgBe,KAAK,IAAIA,KAAK,CAACC,KAAK,GAAG,OAAOD,KAAK,CAACC,KAAK,GAAG,GAAG,2CAA2C;AAC1G;AACA;AACA;AACA,CAAC;AAACC,GAAA,GANIH,UAAU;AAQhB,MAAMI,YAAY,GAAG7B,MAAM,CAACW,GAAG;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAIY,SAAS;AACb;AACA;AACA,CAAC;AAACO,GAAA,GAhBID,YAAY;AAkBlB,MAAME,SAAS,GAAG/B,MAAM,CAACW,GAAG;AAC5B;AACA;AACA,CAAC;AAACqB,GAAA,GAHID,SAAS;AAKf,MAAME,YAAY,GAAGjC,MAAM,CAACW,GAAG;AAC/B;AACA,CAAC;AAACuB,GAAA,GAFID,YAAY;AAIlB,MAAME,WAAW,GAAGnC,MAAM,CAACoC,CAAC;AAC5B;AACA;AACA;AACA;AACA,CAAC;AAACC,GAAA,GALIF,WAAW;AAOjB,MAAMG,SAAS,GAAGtC,MAAM,CAACW,GAAG;AAC5B;AACA;AACA;AACA;AACA;AACA,CAAC;AAAC4B,IAAA,GANID,SAAS;AAQf,MAAME,SAAS,GAAGxC,MAAM,CAACyC,IAAI;AAC7B;AACA;AACA;AACA,CAAC;AAACC,IAAA,GAJIF,SAAS;AAMf,MAAMG,YAAY,GAAG3C,MAAM,CAACW,GAAG;AAC/B;AACA;AACA,CAAC;AAACiC,IAAA,GAHID,YAAY;AAKlB,MAAME,UAAU,GAAG7C,MAAM,CAACmB,MAAM;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAAC2B,IAAA,GAZID,UAAU;AAchB,MAAME,KAAK,GAAG/C,MAAM,CAACW,GAAG;AACxB;AACA;AACA;AACA;AACA;AACA;AACA,aAAae,KAAK,IAAIA,KAAK,CAACsB,IAAI,GAAG,MAAM,GAAG,MAAM;AAClD;AACA;AACA;AACA;AACA,CAAC;AAACC,IAAA,GAZIF,KAAK;AAcX,MAAMG,UAAU,GAAGlD,MAAM,CAACmD,GAAG;AAC7B;AACA;AACA;AACA,CAAC;AAACC,IAAA,GAJIF,UAAU;AAMhB,MAAMG,UAAU,GAAGrD,MAAM,CAACmB,MAAM;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACmC,IAAA,GAXID,UAAU;AAahB,MAAME,UAAU,GAAGvD,MAAM,CAACW,GAAG;AAC7B;AACA;AACA;AACA;AACA,CAAC;AAAC6C,IAAA,GALID,UAAU;AAOhB,MAAME,SAAS,GAAGzD,MAAM,CAACW,GAAG;AAC5B;AACA;AACA;AACA,CAAC;AAAC+C,IAAA,GAJID,SAAS;AAMf,MAAME,QAAQ,GAAG3D,MAAM,CAACW,GAAG;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA,aAAae,KAAK,IAAIA,KAAK,CAACsB,IAAI,GAAG,MAAM,GAAG,MAAM;AAClD;AACA;AACA;AACA;AACA,CAAC;AAACY,IAAA,GAZID,QAAQ;AAcd,MAAME,YAAY,GAAG7D,MAAM,CAACW,GAAG;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACmD,IAAA,GARID,YAAY;AAUlB,MAAME,UAAU,GAAG/D,MAAM,CAACgE,EAAE;AAC5B;AACA;AACA,CAAC;AAACC,IAAA,GAHIF,UAAU;AAKhB,MAAMG,IAAI,GAAGlE,MAAM,CAACmE,IAAI;AACxB;AACA;AACA;AACA,CAAC;AAACC,IAAA,GAJIF,IAAI;AAMV,MAAMG,KAAK,GAAGrE,MAAM,CAACsE,KAAK;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,IAAA,GAVIF,KAAK;AAYX,MAAMG,SAAS,GAAGxE,MAAM,CAACsE,KAAK;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACG,IAAA,GAVID,SAAS;AAYf,MAAME,WAAW,GAAG1E,MAAM,CAACW,GAAG;AAC9B;AACA;AACA;AACA,CAAC;AAACgE,IAAA,GAJID,WAAW;AAMjB,MAAME,MAAM,GAAG5E,MAAM,CAACmB,MAAM;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAED,MAAM0D,aAAa,GAAG7E,MAAM,CAAC4E,MAAM,CAAC;AACpC;AACA;AACA,CAAC;AAACE,IAAA,GAHID,aAAa;AAKnB,MAAME,eAAe,GAAG/E,MAAM,CAAC4E,MAAM,CAAC;AACtC;AACA;AACA,CAAC;AAACI,IAAA,GAHID,eAAe;AAKrB,SAASE,MAAMA,CAAA,EAAG;EAAAC,EAAA;EAChB,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGtF,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACuF,aAAa,EAAEC,gBAAgB,CAAC,GAAGxF,QAAQ,CAAC,IAAI,CAAC;EACxD,MAAM,CAACyF,OAAO,EAAEC,UAAU,CAAC,GAAG1F,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAAC2F,YAAY,EAAEC,eAAe,CAAC,GAAG5F,QAAQ,CAAC,KAAK,CAAC;EACvD,MAAM,CAAC6F,QAAQ,EAAEC,WAAW,CAAC,GAAG9F,QAAQ,CAAC;IACvC+F,OAAO,EAAE,EAAE;IACXC,QAAQ,EAAE,EAAE;IACZC,KAAK,EAAE;EACT,CAAC,CAAC;EACF,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGnG,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACoG,YAAY,EAAEC,eAAe,CAAC,GAAGrG,QAAQ,CAAC,KAAK,CAAC;EACvD,MAAM,CAACsG,cAAc,EAAEC,iBAAiB,CAAC,GAAGvG,QAAQ,CAAC,KAAK,CAAC;EAC3D,MAAM,CAACwG,YAAY,EAAEC,eAAe,CAAC,GAAGzG,QAAQ,CAAC,EAAE,CAAC;EAEpDC,SAAS,CAAC,MAAM;IACdyG,UAAU,CAAC,CAAC;IACZC,UAAU,CAAC,CAAC;EACd,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMD,UAAU,GAAG,MAAAA,CAAA,KAAY;IAC7B,IAAI;MACF,MAAME,IAAI,GAAG,MAAMrG,YAAY,CAACsG,MAAM,CAAC,CAAC;MACxCvB,SAAS,CAACsB,IAAI,CAAC;IACjB,CAAC,CAAC,OAAOE,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,uCAAuC,EAAEA,KAAK,CAAC;IAC/D;IACApB,UAAU,CAAC,KAAK,CAAC;EACnB,CAAC;EAED,MAAMiB,UAAU,GAAG,MAAAA,CAAA,KAAY;IAC7B,IAAI;MACF,MAAMC,IAAI,GAAG,MAAMrG,YAAY,CAACsG,MAAM,CAAC,CAAC;MACxC,MAAMG,SAAS,GAAG,IAAIC,GAAG,CAAC,CAAC;MAC3BL,IAAI,CAACM,OAAO,CAACC,KAAK,IAAI;QACpB,IAAIA,KAAK,CAACnB,QAAQ,EAAEgB,SAAS,CAACI,GAAG,CAACD,KAAK,CAACnB,QAAQ,CAAC;MACnD,CAAC,CAAC;MACFG,SAAS,CAAC,CAAC,GAAGa,SAAS,CAAC,CAAC;IAC3B,CAAC,CAAC,OAAOF,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,gBAAgB,EAAEA,KAAK,CAAC;IACxC;EACF,CAAC;EAED,MAAMO,UAAU,GAAIC,UAAU,IAAK;IACjC,MAAMC,IAAI,GAAG,IAAIC,IAAI,CAACF,UAAU,CAAC;IACjC,OAAOC,IAAI,CAACE,kBAAkB,CAAC,OAAO,EAAE;MACtCC,GAAG,EAAE,SAAS;MACdC,KAAK,EAAE,OAAO;MACdC,IAAI,EAAE;IACR,CAAC,CAAC;EACJ,CAAC;EAED,MAAMC,YAAY,GAAG,MAAOC,CAAC,IAAK;IAChCA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClB,IAAI,CAAClC,QAAQ,CAACI,KAAK,IAAIJ,QAAQ,CAACI,KAAK,CAAC+B,MAAM,KAAK,CAAC,EAAE;MAClDC,KAAK,CAAC,0CAA0C,CAAC;MACjD;IACF;IAEA,IAAI;MACF,MAAMC,UAAU,GAAG,IAAIC,QAAQ,CAAC,CAAC;MACjC,KAAK,IAAIC,IAAI,IAAIvC,QAAQ,CAACI,KAAK,EAAE;QAC/BiC,UAAU,CAACG,MAAM,CAAC,OAAO,EAAED,IAAI,CAAC;MAClC;MACAF,UAAU,CAACG,MAAM,CAAC,SAAS,EAAExC,QAAQ,CAACE,OAAO,CAAC;MAC9C,IAAIF,QAAQ,CAACG,QAAQ,EAAEkC,UAAU,CAACG,MAAM,CAAC,UAAU,EAAExC,QAAQ,CAACG,QAAQ,CAAC;MAEvE,MAAMsC,QAAQ,GAAG,MAAMC,KAAK,CAAC,aAAa,EAAE;QAC1CC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACP,eAAe,EAAE,UAAUC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC;QAC7D,CAAC;QACDC,IAAI,EAAEV;MACR,CAAC,CAAC;MAEF,IAAII,QAAQ,CAACO,EAAE,EAAE;QACfjD,eAAe,CAAC,KAAK,CAAC;QACtBE,WAAW,CAAC;UAAEC,OAAO,EAAE,EAAE;UAAEC,QAAQ,EAAE,EAAE;UAAEC,KAAK,EAAE;QAAK,CAAC,CAAC;QACvDS,UAAU,CAAC,CAAC;QACZC,UAAU,CAAC,CAAC;MACd;IACF,CAAC,CAAC,OAAOG,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,gBAAgB,EAAEA,KAAK,CAAC;IACxC;EACF,CAAC;EAED,IAAIrB,OAAO,EAAE;IACX,oBACEhF,OAAA,CAACG,eAAe;MAAAkI,QAAA,eACdrI,OAAA;QAAKsI,KAAK,EAAE;UAAEC,SAAS,EAAE,QAAQ;UAAEC,SAAS,EAAE;QAAO,CAAE;QAAAH,QAAA,EAAC;MAExD;QAAAI,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACS,CAAC;EAEtB;EAEA,oBACE5I,OAAA,CAACG,eAAe;IAAC0I,SAAS,EAAC,SAAS;IAAAR,QAAA,gBAClCrI,OAAA,CAACM,MAAM;MAAA+H,QAAA,gBACLrI,OAAA,CAACQ,KAAK;QAAA6H,QAAA,EAAC;MAAM;QAAAI,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAO,CAAC,eACrB5I,OAAA,CAACW,SAAS;QAACmI,OAAO,EAAEA,CAAA,KAAM3D,eAAe,CAAC,IAAI,CAAE;QAAAkD,QAAA,gBAC9CrI,OAAA,CAACN,MAAM;UAAA+I,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,YACZ;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAW,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC,eAET5I,OAAA,CAACc,SAAS;MAAAuH,QAAA,EACPzD,MAAM,CAAC2C,MAAM,GAAG,CAAC,GAChB3C,MAAM,CAACmE,GAAG,CAAErC,KAAK,iBACf1G,OAAA,CAACgB,SAAS;QAAiB8H,OAAO,EAAEA,CAAA,KAAM/D,gBAAgB,CAAC2B,KAAK,CAAE;QAAA2B,QAAA,gBAChErI,OAAA,CAACkB,UAAU;UAACE,KAAK,EAAEsF,KAAK,CAACsC,GAAI;UAAAX,QAAA,eAC3BrI,OAAA,CAACsB,YAAY;YAAA+G,QAAA,eACXrI,OAAA,CAACwB,SAAS;cAAA6G,QAAA,eACRrI,OAAA,CAACL,QAAQ;gBAAA8I,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACA;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACL,CAAC,EAEZlC,KAAK,CAACpB,OAAO,iBACZtF,OAAA,CAAC0B,YAAY;UAAA2G,QAAA,gBACXrI,OAAA,CAAC4B,WAAW;YAAAyG,QAAA,EAAE3B,KAAK,CAACpB;UAAO;YAAAmD,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAc,CAAC,eAC1C5I,OAAA,CAAC+B,SAAS;YAAAsG,QAAA,gBACRrI,OAAA,CAACiC,SAAS;cAAAoG,QAAA,GAAC,eACN,EAACzB,UAAU,CAACF,KAAK,CAACuC,WAAW,CAAC;YAAA;cAAAR,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACxB,CAAC,eACZ5I,OAAA,CAACoC,YAAY;cAAAiG,QAAA,gBACXrI,OAAA,CAACsC,UAAU;gBAAC4G,KAAK,EAAC,QAAQ;gBAAAb,QAAA,eACxBrI,OAAA,CAACJ,OAAO;kBAAA6I,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACD,CAAC,eACb5I,OAAA,CAACsC,UAAU;gBAAC4G,KAAK,EAAC,WAAW;gBAAAb,QAAA,eAC3BrI,OAAA,CAACH,eAAe;kBAAA4I,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACT,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACD,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACA,CACf;MAAA,GA1BalC,KAAK,CAACyC,GAAG;QAAAV,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OA2Bd,CACZ,CAAC,gBAEF5I,OAAA,CAACgD,UAAU;QAAAqF,QAAA,gBACTrI,OAAA,CAACkD,SAAS;UAAAmF,QAAA,EAAC;QAAE;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAW,CAAC,eACzB5I,OAAA;UAAAqI,QAAA,EAAI;QAA2B;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACpC5I,OAAA;UAAGsI,KAAK,EAAE;YAAEc,QAAQ,EAAE,MAAM;YAAEZ,SAAS,EAAE;UAAO,CAAE;UAAAH,QAAA,EAAC;QAEnD;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACM;IACb;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACQ,CAAC,eAEZ5I,OAAA,CAACwC,KAAK;MAACC,IAAI,EAAEqC,aAAc;MAACgE,OAAO,EAAEA,CAAA,KAAM/D,gBAAgB,CAAC,IAAI,CAAE;MAAAsD,QAAA,EAC/DvD,aAAa,iBACZ9E,OAAA,CAAAE,SAAA;QAAAmI,QAAA,gBACErI,OAAA,CAAC8C,UAAU;UAACgG,OAAO,EAAEA,CAAA,KAAM/D,gBAAgB,CAAC,IAAI,CAAE;UAAAsD,QAAA,EAAC;QAAC;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAY,CAAC,eACjE5I,OAAA,CAAC2C,UAAU;UACT0G,GAAG,EAAEvE,aAAa,CAACkE,GAAI;UACvBM,GAAG,EAAExE,aAAa,CAACQ,OAAQ;UAC3BwD,OAAO,EAAGzB,CAAC,IAAKA,CAAC,CAACkC,eAAe,CAAC;QAAE;UAAAd,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACrC,CAAC;MAAA,eACF;IACH;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACI,CAAC,eAER5I,OAAA,CAACoD,QAAQ;MAACX,IAAI,EAAEyC,YAAa;MAAC4D,OAAO,EAAEA,CAAA,KAAM3D,eAAe,CAAC,KAAK,CAAE;MAAAkD,QAAA,eAClErI,OAAA,CAACsD,YAAY;QAACwF,OAAO,EAAGzB,CAAC,IAAKA,CAAC,CAACkC,eAAe,CAAC,CAAE;QAAAlB,QAAA,gBAChDrI,OAAA,CAACwD,UAAU;UAAA6E,QAAA,EAAC;QAAkB;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAY,CAAC,eAC3C5I,OAAA,CAAC2D,IAAI;UAAC6F,QAAQ,EAAEpC,YAAa;UAAAiB,QAAA,gBAC3BrI,OAAA,CAAC8D,KAAK;YACJ2F,IAAI,EAAC,MAAM;YACXC,WAAW,EAAC,wBAAqB;YACjCC,KAAK,EAAEvE,QAAQ,CAACE,OAAQ;YACxBsE,QAAQ,EAAGvC,CAAC,IAAKhC,WAAW,CAAC;cAAC,GAAGD,QAAQ;cAAEE,OAAO,EAAE+B,CAAC,CAACwC,MAAM,CAACF;YAAK,CAAC;UAAE;YAAAlB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACtE,CAAC,eAEF5I,OAAA,CAACiE,SAAS;YACRwF,IAAI,EAAC,MAAM;YACXK,QAAQ;YACRC,MAAM,EAAC,SAAS;YAChBH,QAAQ,EAAGvC,CAAC,IAAKhC,WAAW,CAAC;cAAC,GAAGD,QAAQ;cAAEI,KAAK,EAAE6B,CAAC,CAACwC,MAAM,CAACrE;YAAK,CAAC,CAAE;YACnEwE,QAAQ;UAAA;YAAAvB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACT,CAAC,eAEF5I,OAAA,CAACmE,WAAW;YAAAkE,QAAA,gBACVrI,OAAA,CAACwE,eAAe;cAACiF,IAAI,EAAC,QAAQ;cAACX,OAAO,EAAEA,CAAA,KAAM3D,eAAe,CAAC,KAAK,CAAE;cAAAkD,QAAA,EAAC;YAEtE;cAAAI,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAiB,CAAC,eAClB5I,OAAA,CAACsE,aAAa;cAACmF,IAAI,EAAC,QAAQ;cAAApB,QAAA,EAAC;YAE7B;cAAAI,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAe,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACL,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACV,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACK;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACP,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACI,CAAC;AAEtB;AAACjE,EAAA,CAjMQD,MAAM;AAAAuF,IAAA,GAANvF,MAAM;AAmMf,eAAeA,MAAM;AAAC,IAAArE,EAAA,EAAAE,GAAA,EAAAG,GAAA,EAAAG,GAAA,EAAAE,GAAA,EAAAE,GAAA,EAAAI,GAAA,EAAAE,GAAA,EAAAE,GAAA,EAAAE,GAAA,EAAAG,GAAA,EAAAE,IAAA,EAAAG,IAAA,EAAAE,IAAA,EAAAE,IAAA,EAAAG,IAAA,EAAAG,IAAA,EAAAE,IAAA,EAAAE,IAAA,EAAAE,IAAA,EAAAE,IAAA,EAAAE,IAAA,EAAAG,IAAA,EAAAG,IAAA,EAAAG,IAAA,EAAAE,IAAA,EAAAE,IAAA,EAAAG,IAAA,EAAAE,IAAA,EAAAwF,IAAA;AAAAC,YAAA,CAAA7J,EAAA;AAAA6J,YAAA,CAAA3J,GAAA;AAAA2J,YAAA,CAAAxJ,GAAA;AAAAwJ,YAAA,CAAArJ,GAAA;AAAAqJ,YAAA,CAAAnJ,GAAA;AAAAmJ,YAAA,CAAAjJ,GAAA;AAAAiJ,YAAA,CAAA7I,GAAA;AAAA6I,YAAA,CAAA3I,GAAA;AAAA2I,YAAA,CAAAzI,GAAA;AAAAyI,YAAA,CAAAvI,GAAA;AAAAuI,YAAA,CAAApI,GAAA;AAAAoI,YAAA,CAAAlI,IAAA;AAAAkI,YAAA,CAAA/H,IAAA;AAAA+H,YAAA,CAAA7H,IAAA;AAAA6H,YAAA,CAAA3H,IAAA;AAAA2H,YAAA,CAAAxH,IAAA;AAAAwH,YAAA,CAAArH,IAAA;AAAAqH,YAAA,CAAAnH,IAAA;AAAAmH,YAAA,CAAAjH,IAAA;AAAAiH,YAAA,CAAA/G,IAAA;AAAA+G,YAAA,CAAA7G,IAAA;AAAA6G,YAAA,CAAA3G,IAAA;AAAA2G,YAAA,CAAAxG,IAAA;AAAAwG,YAAA,CAAArG,IAAA;AAAAqG,YAAA,CAAAlG,IAAA;AAAAkG,YAAA,CAAAhG,IAAA;AAAAgG,YAAA,CAAA9F,IAAA;AAAA8F,YAAA,CAAA3F,IAAA;AAAA2F,YAAA,CAAAzF,IAAA;AAAAyF,YAAA,CAAAD,IAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}